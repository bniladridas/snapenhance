<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SnapEnhance AI</title>
    <link rel="icon" type="image/svg+xml" href="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNTAiIGhlaWdodD0iNTAiIHZpZXdCb3g9IjAgMCAzMiAzMiIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48cmVjdCB3aWR0aD0iMzIiIGhlaWdodD0iMzIiIHJ4PSI4IiBmaWxsPSJyZ2JhKDI1NSwgMjU1LCAyNTUsIDAuOSkiLz48cmVjdCB3aWR0aD0iMzIiIGhlaWdodD0iMzIiIHJ4PSI4IiBzdHJva2U9InJnYmEoMjQwLCAyNDAsIDI0MCwgMC41KSIgc3Ryb2tlLXdpZHRoPSIxIi8+PGcgZmlsbD0iIzIxMjUyOSIgc3R5bGU9ImZvbnQtZmFtaWx5OiAnT3V0Zml0Jywgc3lzdGVtLXVpLCBzYW5zLXNlcmlmOyBmb250LXdlaWdodDogNTAwOyI+PHRleHQgeD0iOCIgeT0iMjIiIGZvbnQtc2l6ZT0iMTgiPlM8L3RleHQ+PHRleHQgeD0iMTciIHk9IjIyIiBmb250LXNpemU9IjE4Ij5FPC90ZXh0PjwvZz48cmVjdCB4PSI4IiB5PSIyNCIgd2lkdGg9IjE2IiBoZWlnaHQ9IjIiIHJ4PSIxIiBmaWxsPSIjRTlFQ0VGIi8+PC9zdmc+">
    <link rel="shortcut icon" type="image/svg+xml" href="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNTAiIGhlaWdodD0iNTAiIHZpZXdCb3g9IjAgMCAzMiAzMiIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48cmVjdCB3aWR0aD0iMzIiIGhlaWdodD0iMzIiIHJ4PSI4IiBmaWxsPSJyZ2JhKDI1NSwgMjU1LCAyNTUsIDAuOSkiLz48cmVjdCB3aWR0aD0iMzIiIGhlaWdodD0iMzIiIHJ4PSI4IiBzdHJva2U9InJnYmEoMjQwLCAyNDAsIDI0MCwgMC41KSIgc3Ryb2tlLXdpZHRoPSIxIi8+PGcgZmlsbD0iIzIxMjUyOSIgc3R5bGU9ImZvbnQtZmFtaWx5OiAnT3V0Zml0Jywgc3lzdGVtLXVpLCBzYW5zLXNlcmlmOyBmb250LXdlaWdodDogNTAwOyI+PHRleHQgeD0iOCIgeT0iMjIiIGZvbnQtc2l6ZT0iMTgiPlM8L3RleHQ+PHRleHQgeD0iMTciIHk9IjIyIiBmb250LXNpemU9IjE4Ij5FPC90ZXh0PjwvZz48cmVjdCB4PSI4IiB5PSIyNCIgd2lkdGg9IjE2IiBoZWlnaHQ9IjIiIHJ4PSIxIiBmaWxsPSIjRTlFQ0VGIi8+PC9zdmc+">
    <link rel="apple-touch-icon" href="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTgwIiBoZWlnaHQ9IjE4MCIgdmlld0JveD0iMCAwIDMyIDMyIiBmaWxsPSJub25lIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciPjxyZWN0IHdpZHRoPSIzMiIgaGVpZ2h0PSIzMiIgcng9IjgiIGZpbGw9IiM2MzY2ZjEiLz48ZyBmaWxsPSIjZmZmZmZmIiBzdHlsZT0iZm9udC1mYW1pbHk6ICdPdXRmaXQnLCBzeXN0ZW0tdWksIHNhbnMtc2VyaWY7IGZvbnQtd2VpZ2h0OiA1MDA7Ij48dGV4dCB4PSI4IiB5PSIyMiIgZm9udC1zaXplPSIxOCI+UzwvdGV4dD48dGV4dCB4PSIxNyIgeT0iMjIiIGZvbnQtc2l6ZT0iMTgiPkU8L3RleHQ+PC9nPjxyZWN0IHg9IjgiIHk9IjI0IiB3aWR0aD0iMTYiIGhlaWdodD0iMiIgcng9IjEiIGZpbGw9IiNmZmZmZmYiLz48L3N2Zz4=">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Outfit:wght@300;400;500;600&display=swap" rel="stylesheet">
    <style>
        :root {
            /* Font family variables */
            --font-outfit: 'Outfit', system-ui, sans-serif;
            --font-mono: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace;

            /* Color system - ultra minimal */
            --primary: #6366f1;
            --primary-light: rgba(99, 102, 241, 0.08);
            --primary-hover: #4f46e5;

            /* Monochromatic text scale */
            --text-primary: #1a1a1a;
            --text-secondary: #4a4a4a;
            --text-tertiary: #6e6e6e;
            --text-quaternary: #909090;

            /* Clean backgrounds */
            --bg-body: transparent; /* Changed to transparent to show gradient */
            --bg-white: rgba(255, 255, 255, 0.85); /* Slightly transparent white */
            --bg-subtle: rgba(255, 255, 255, 0.65);

            /* Subtle borders and shadows */
            --border: rgba(0, 0, 0, 0.04);
            --shadow-xs: 0 1px 2px rgba(0, 0, 0, 0.02);
            --shadow-sm: 0 1px 3px rgba(0, 0, 0, 0.03);

            /* Consistent spacing scale */
            --space-3xs: 0.125rem; /* 2px */
            --space-2xs: 0.25rem;  /* 4px */
            --space-xs: 0.5rem;    /* 8px */
            --space-sm: 0.75rem;   /* 12px */
            --space-md: 1rem;      /* 16px */
            --space-lg: 1.5rem;    /* 24px */
            --space-xl: 2rem;      /* 32px */
            --space-2xl: 3rem;     /* 48px */

            /* Perfect type scale */
            --font-2xs: 0.625rem;  /* 10px */
            --font-xs: 0.75rem;    /* 12px */
            --font-sm: 0.875rem;   /* 14px */
            --font-md: 1rem;       /* 16px */
            --font-lg: 1.125rem;   /* 18px */
            --font-xl: 1.25rem;    /* 20px */

            /* Refined border radius */
            --radius-sm: 4px;
            --radius-md: 8px;
            --radius-lg: 12px;
            --radius-full: 9999px;

            /* Line heights - optimized for Outfit font */
            --line-height-tight: 1.2;
            --line-height-normal: 1.5;
            --line-height-relaxed: 1.75;

            /* Letter spacing - optimized for Outfit font */
            --letter-spacing-tight: -0.01em;
            --letter-spacing-normal: 0;
            --letter-spacing-wide: 0.01em;

            /* Font weights - Outfit specific */
            --font-weight-light: 300;
            --font-weight-regular: 400;
            --font-weight-medium: 500;
            --font-weight-semibold: 600;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        html {
            font-size: 16px;
            height: 100%;
            min-height: 100vh;
            background: linear-gradient(135deg,
                rgb(255, 220, 228) 0%,
                rgb(230, 240, 255) 50%,
                rgb(220, 255, 240) 100%) fixed;
            background-size: cover;
            background-attachment: fixed;
        }

        body {
            margin: 0;
            padding: 0;
            background: transparent;
            color: var(--text-primary);
            font-family: var(--font-outfit);
            min-height: 100vh;
            height: 100%;
            display: flex;
            flex-direction: column;
            align-items: center;
            font-weight: 400;
            line-height: var(--line-height-normal);
            font-size: var(--font-md);
            -webkit-font-smoothing: antialiased;
            -moz-osx-font-smoothing: grayscale;
            text-rendering: optimizeLegibility;
            font-feature-settings: "rlig" 1, "calt" 1, "ss01" 1, "ss03" 1;
            letter-spacing: var(--letter-spacing-normal);
            position: relative;
            overflow-x: hidden;
        }

        /* Apply consistent font family to all elements */
        h1, h2, h3, h4, h5, h6, p, span, div, button, input, textarea, a {
            font-family: var(--font-outfit);
        }

        /* Monospace font for code blocks or technical content */
        code, pre {
            font-family: var(--font-mono);
        }

        /* Improved focus styles for accessibility */
        :focus {
            outline: 2px solid var(--primary-light);
            outline-offset: 2px;
        }

        /* Remove focus outline for mouse users, keep for keyboard */
        :focus:not(:focus-visible) {
            outline: none;
        }

        /* Subtle selection style */
        ::selection {
            background-color: var(--primary-light);
            color: var(--primary);
        }

        .header {
            width: 100%;
            padding: var(--space-xl) 0 var(--space-md);
            text-align: center;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
        }

        .logo-container {
            display: flex;
            align-items: center;
            justify-content: center;
            margin-bottom: var(--space-lg);
        }

        .logo-icon {
            width: 36px;
            height: 36px;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: opacity 0.2s ease;
            position: relative;
        }

        .logo-icon::after {
            content: "";
            position: absolute;
            width: 100%;
            height: 100%;
            background-color: var(--primary-light);
            border-radius: var(--radius-sm);
            z-index: -1;
            opacity: 0;
            transform: scale(0.9);
            transition: opacity 0.2s ease, transform 0.2s ease;
        }

        .logo-icon:hover::after {
            opacity: 1;
            transform: scale(1.1);
        }

        .logo-divider {
            height: 24px;
            width: 1px;
            background-color: var(--border);
            margin: 0 var(--space-md);
        }

        .triangle-icon {
            width: 28px;
            height: 28px;
            display: flex;
            align-items: center;
            justify-content: center;
            opacity: 0.85;
            transition: opacity 0.2s ease;
        }

        .triangle-icon:hover {
            opacity: 1;
        }

        .header-controls {
            display: flex;
            flex-direction: row;
            gap: var(--space-md);
            margin-bottom: var(--space-lg);
            align-items: center;
            justify-content: space-between;
            flex-wrap: nowrap;
            width: 100%;
            max-width: 640px;
        }

        .tabs {
            display: flex;
            gap: var(--space-xs);
        }

        .tab {
            display: flex;
            align-items: center;
            padding: var(--space-xs) var(--space-md);
            background-color: rgba(255, 255, 255, 0.6);
            border-radius: var(--radius-full);
            font-size: var(--font-sm);
            font-weight: var(--font-weight-medium);
            color: #333;
            transition: all 0.15s ease;
            cursor: pointer;
            border: 1px solid rgba(255, 255, 255, 0.3);
            backdrop-filter: blur(5px);
            box-shadow: 0 2px 6px rgba(0, 0, 0, 0.02);
            letter-spacing: var(--letter-spacing-tight);
        }

        .tab:hover {
            background-color: rgba(255, 255, 255, 0.8);
            color: #000;
            box-shadow: 0 3px 8px rgba(0, 0, 0, 0.04);
        }

        .tab.active {
            background: linear-gradient(135deg,
                rgba(255, 200, 210, 0.3),
                rgba(230, 240, 255, 0.3));
            color: #333;
            border-color: rgba(255, 255, 255, 0.5);
            backdrop-filter: blur(5px);
            font-weight: var(--font-weight-medium);
        }

        .tab-icon {
            width: 16px;
            height: 16px;
            margin-right: var(--space-xs);
            display: flex;
            align-items: center;
            justify-content: center;
            border-radius: var(--radius-sm);
            font-size: var(--font-2xs);
            color: white;
            font-weight: 500;
        }

        .llama-icon {
            background-color: var(--primary);
        }

        .deepseek-icon {
            background-color: #3b82f6;
        }

        /* Humorous easter egg - only visible on hover */
        .tab::after {
            content: attr(data-humor);
            position: absolute;
            top: -24px;
            left: 50%;
            transform: translateX(-50%) scale(0.8);
            background-color: var(--text-primary);
            color: white;
            padding: var(--space-2xs) var(--space-xs);
            border-radius: var(--radius-sm);
            font-size: var(--font-xs);
            opacity: 0;
            pointer-events: none;
            transition: opacity 0.2s ease, transform 0.2s ease;
            white-space: nowrap;
        }

        .tab:hover::after {
            opacity: 0.9;
            transform: translateX(-50%) scale(1);
        }

        .container {
            width: 100%;
            max-width: 640px;
            margin: 0 auto;
            flex: 1;
            display: flex;
            flex-direction: column;
            padding: 0 var(--space-md) var(--space-xl);
            position: relative;
            z-index: 1;
        }

        /* Wrapper to ensure content stays within the gradient background */
        .page-wrapper {
            width: 100%;
            min-height: 100vh;
            display: flex;
            flex-direction: column;
            align-items: center;
            background: transparent;
            position: relative;
        }

        .input-area {
            width: 100%;
            position: relative;
            margin-bottom: var(--space-lg);
            display: flex;
            flex-direction: row;
            gap: var(--space-md);
            align-items: flex-start;
        }

        .settings-panel {
            width: 250px;
            flex-shrink: 0;
            order: 2;
        }

        /* Search container and suggestions */
        .search-container {
            position: relative;
            width: 100%;
            max-width: 600px;
        }

        .input-container {
            display: flex;
            align-items: center;
            background-color: rgba(255, 255, 255, 0.7);
            border-radius: var(--radius-full);
            border: 1px solid rgba(255, 255, 255, 0.3);
            padding: var(--space-xs) var(--space-sm);
            transition: all 0.15s ease;
            backdrop-filter: blur(10px);
            width: 100%;
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.03);
        }

        .search-suggestions {
            position: absolute;
            top: calc(100% + 8px);
            left: 0;
            width: 100%;
            background-color: rgba(255, 255, 255, 0.8);
            border-radius: var(--radius-md);
            border: 1px solid rgba(255, 255, 255, 0.3);
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.05);
            padding: var(--space-xs);
            z-index: 100;
            display: none;
            backdrop-filter: blur(10px);
        }

        .suggestion-item {
            display: flex;
            align-items: center;
            padding: var(--space-xs) var(--space-sm);
            border-radius: var(--radius-sm);
            cursor: pointer;
            transition: background-color 0.15s ease;
        }

        .suggestion-item:hover {
            background-color: var(--primary-light);
        }

        .suggestion-icon {
            display: flex;
            align-items: center;
            justify-content: center;
            margin-right: var(--space-xs);
            color: var(--text-quaternary);
        }

        .suggestion-item .icon-svg {
            width: 18px;
            height: 18px;
            opacity: 0.6;
        }

        .input-container:focus-within {
            border-color: var(--primary);
            box-shadow: 0 0 0 2px var(--primary-light);
        }

        .input-icon {
            color: var(--text-quaternary);
            margin: 0 var(--space-xs);
            opacity: 0.8;
        }

        input[type="text"] {
            flex: 1;
            background: transparent;
            border: none;
            color: var(--text-primary);
            font-family: var(--font-outfit);
            font-size: var(--font-md);
            font-weight: 400;
            outline: none;
            padding: var(--space-xs) var(--space-xs);
            line-height: var(--line-height-normal);
            letter-spacing: -0.01em;
        }

        input[type="text"]::placeholder {
            color: var(--text-quaternary);
            opacity: 0.9;
        }

        .input-actions {
            display: flex;
            align-items: center;
            gap: var(--space-2xs);
        }

        .mic-button, .send-button {
            background: transparent;
            border: none;
            color: var(--text-tertiary);
            cursor: pointer;
            padding: var(--space-xs);
            display: flex;
            align-items: center;
            justify-content: center;
            transition: all 0.15s ease;
            border-radius: 50%;
            width: 32px;
            height: 32px;
            position: relative;
        }

        .send-button {
            color: var(--primary);
        }

        /* Humorous send button animation */
        .send-button svg {
            transition: transform 0.2s cubic-bezier(0.34, 1.56, 0.64, 1);
        }

        .mic-button:hover, .send-button:hover {
            background-color: var(--primary-light);
        }

        .send-button:hover svg {
            transform: rotate(45deg) translateX(2px);
        }

        /* Microphone button recording state */
        .mic-button.recording {
            color: #e53935; /* Red color when recording */
            animation: pulse 1.5s infinite;
        }

        .mic-button.disabled {
            opacity: 0.5;
            cursor: not-allowed;
        }

        /* Humorous tooltip for mic button */
        .mic-button::after {
            content: attr(data-humor);
            position: absolute;
            top: -30px;
            left: 50%;
            transform: translateX(-50%) scale(0.8);
            background-color: var(--text-primary);
            color: white;
            padding: var(--space-2xs) var(--space-xs);
            border-radius: var(--radius-sm);
            font-size: var(--font-xs);
            opacity: 0;
            pointer-events: none;
            transition: opacity 0.2s ease, transform 0.2s ease;
            white-space: nowrap;
            z-index: 100;
        }

        .mic-button:hover::after {
            opacity: 0.9;
            transform: translateX(-50%) scale(1);
        }

        /* Quick Mode Toggle */
        .quick-mode-toggle {
            display: flex;
            align-items: center;
            margin-right: var(--space-xs);
            background-color: rgba(255, 255, 255, 0.7);
            border-radius: var(--radius-full);
            padding: 3px 10px;
            font-size: var(--font-xs);
            color: var(--text-tertiary);
            border: 1px solid rgba(0, 0, 0, 0.05);
            transition: all 0.15s ease;
            box-shadow: 0 1px 3px rgba(0, 0, 0, 0.05);
            position: relative;
            z-index: 10;
        }

        .quick-mode-toggle:hover {
            background-color: rgba(255, 255, 255, 0.7);
        }

        .quick-mode-toggle input[type="checkbox"] {
            appearance: none;
            -webkit-appearance: none;
            width: 14px;
            height: 14px;
            border-radius: 50%;
            border: 1px solid rgba(0, 0, 0, 0.1);
            background-color: white;
            margin-right: 4px;
            position: relative;
            cursor: pointer;
            transition: all 0.15s ease;
        }

        .quick-mode-toggle input[type="checkbox"]:checked {
            background-color: #ff9500;
            border-color: rgba(0, 0, 0, 0.1);
            box-shadow: 0 0 0 1px rgba(255, 149, 0, 0.3);
        }

        .quick-mode-toggle input[type="checkbox"]:checked::after {
            content: "";
            position: absolute;
            top: 3px;
            left: 3px;
            width: 6px;
            height: 6px;
            border-radius: 50%;
            background-color: white;
            box-shadow: 0 0 2px rgba(0, 0, 0, 0.2);
        }

        .quick-mode-toggle input[type="checkbox"]:checked + label {
            color: #ff9500;
            font-weight: 600;
        }

        .quick-mode-toggle label {
            cursor: pointer;
            user-select: none;
            font-weight: var(--font-weight-medium);
            color: var(--text-secondary);
        }

        /* Header Quick Mode Toggle */
        .header-quick-mode {
            margin-left: var(--space-md);
            background-color: rgba(255, 255, 255, 0.9);
            padding: 5px 12px;
            border-radius: var(--radius-full);
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
            border: 1px solid rgba(0, 0, 0, 0.05);
            font-size: var(--font-sm);
            animation: gentle-pulse 4s infinite;
            position: relative;
        }

        @keyframes gentle-pulse {
            0% {
                box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
            }
            50% {
                box-shadow: 0 0 0 3px rgba(255, 149, 0, 0.2);
            }
            100% {
                box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
            }
        }

        .header-quick-mode label {
            font-weight: var(--font-weight-bold);
            color: #333;
        }

        .header-quick-mode::after {
            content: "NEW";
            position: absolute;
            top: -6px;
            right: -6px;
            background-color: rgba(255, 149, 0, 0.9);
            color: white;
            font-size: 8px;
            font-weight: bold;
            padding: 2px 4px;
            border-radius: 3px;
            box-shadow: 0 1px 2px rgba(0, 0, 0, 0.1);
            opacity: 0.9;
        }

        /* Pulsing dot for recording indicator */
        .mic-pulsing-dot {
            position: absolute;
            top: 0;
            right: 0;
            width: 8px;
            height: 8px;
            background-color: #e53935;
            border-radius: 50%;
            animation: pulse 1.5s infinite;
        }

        @keyframes pulse {
            0% {
                transform: scale(1);
                opacity: 1;
            }
            50% {
                transform: scale(1.2);
                opacity: 0.7;
            }
            100% {
                transform: scale(1);
                opacity: 1;
            }
        }

        /* Blog Previews Section */
        .blog-previews {
            width: 100%;
            margin: var(--space-lg) 0;
            animation: fade-in 0.8s ease-out;
        }

        @keyframes fade-in {
            from {
                opacity: 0;
                transform: translateY(10px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .blog-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: var(--space-lg);
            position: relative;
            padding-bottom: var(--space-sm);
        }

        .blog-header::after {
            content: "";
            position: absolute;
            bottom: 0;
            left: 0;
            width: 80px;
            height: 2px;
            background: linear-gradient(to right,
                rgb(255, 200, 210),
                rgb(230, 240, 255),
                rgb(220, 255, 240));
            opacity: 0.7;
        }

        .blog-section-title {
            font-size: var(--font-lg);
            color: var(--text-primary);
            font-weight: var(--font-weight-semibold);
            margin: 0;
            letter-spacing: var(--letter-spacing-tight);
            position: relative;
        }

        /* Humorous easter egg - appears on hover */
        .blog-section-title::after {
            content: "250% more humor!";
            position: absolute;
            top: -20px;
            left: 0;
            font-size: var(--font-xs);
            color: var(--primary);
            background-color: rgba(255, 255, 255, 0.9);
            padding: 2px 8px;
            border-radius: var(--radius-full);
            opacity: 0;
            transform: translateY(5px);
            transition: all 0.2s ease;
            pointer-events: none;
            font-weight: 400;
        }

        .blog-section-title:hover::after {
            opacity: 1;
            transform: translateY(0);
        }

        .view-all-btn {
            background-color: rgba(255, 255, 255, 0.6);
            color: #333;
            padding: var(--space-xs) var(--space-sm);
            border-radius: var(--radius-full);
            font-size: var(--font-xs);
            font-weight: var(--font-weight-medium);
            text-decoration: none;
            transition: all 0.2s ease;
            border: 1px solid rgba(255, 255, 255, 0.3);
            backdrop-filter: blur(5px);
            box-shadow: 0 2px 6px rgba(0, 0, 0, 0.03);
            letter-spacing: var(--letter-spacing-normal);
        }

        .view-all-btn:hover {
            background-color: rgba(255, 255, 255, 0.9);
            transform: translateY(-1px);
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.05);
        }

        .blog-cards {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(260px, 1fr));
            gap: var(--space-lg);
            width: 100%;
            max-width: 1200px;
            margin: 0 auto;
            padding: var(--space-xs);
        }

        .blog-card {
            display: flex;
            flex-direction: column;
            background-color: rgba(255, 255, 255, 0.75);
            border-radius: var(--radius-md);
            overflow: hidden;
            transition: all 0.3s cubic-bezier(0.16, 1, 0.3, 1);
            text-decoration: none;
            color: inherit;
            border: 1px solid rgba(255, 255, 255, 0.3);
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.03);
            backdrop-filter: blur(10px);
            height: 100%;
            position: relative;
            opacity: 0;
            transform: translateY(20px);
            animation: card-appear 0.5s forwards;
        }

        /* Staggered animation for cards */
        .blog-card:nth-child(1) { animation-delay: 0.1s; }
        .blog-card:nth-child(2) { animation-delay: 0.2s; }
        .blog-card:nth-child(3) { animation-delay: 0.3s; }
        .blog-card:nth-child(4) { animation-delay: 0.4s; }
        .blog-card:nth-child(5) { animation-delay: 0.5s; }
        .blog-card:nth-child(6) { animation-delay: 0.6s; }
        .blog-card:nth-child(7) { animation-delay: 0.7s; }
        .blog-card:nth-child(8) { animation-delay: 0.8s; }

        @keyframes card-appear {
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .blog-card:hover {
            transform: translateY(-3px);
            box-shadow: 0 8px 20px rgba(0, 0, 0, 0.05);
            background-color: rgba(255, 255, 255, 0.9);
        }

        /* Subtle hover effect - line appears from left to right */
        .blog-card::after {
            content: "";
            position: absolute;
            bottom: 0;
            left: 0;
            width: 0;
            height: 2px;
            background: linear-gradient(to right,
                rgb(255, 200, 210),
                rgb(230, 240, 255),
                rgb(220, 255, 240));
            transition: width 0.3s ease;
        }

        .blog-card:hover::after {
            width: 100%;
        }

        .blog-card-image {
            width: 100%;
            height: 120px;
            overflow: hidden;
            position: relative;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        /* Theme background colors for blog cards with subtle patterns - matching main gradient */
        .theme-bg-1 {
            background: linear-gradient(135deg, rgb(255, 200, 210), rgb(240, 210, 220));
            background-image: radial-gradient(rgba(255, 255, 255, 0.15) 1px, transparent 1px);
            background-size: 20px 20px;
        }

        .theme-bg-2 {
            background: linear-gradient(135deg, rgb(230, 240, 255), rgb(210, 225, 250));
            background-image:
                linear-gradient(rgba(255, 255, 255, 0.1) 1px, transparent 1px),
                linear-gradient(90deg, rgba(255, 255, 255, 0.1) 1px, transparent 1px);
            background-size: 20px 20px;
        }

        .theme-bg-3 {
            background: linear-gradient(135deg, rgb(220, 255, 240), rgb(200, 245, 225));
            background-image:
                repeating-linear-gradient(45deg, rgba(255, 255, 255, 0.1) 0, rgba(255, 255, 255, 0.1) 1px, transparent 1px, transparent 10px);
        }

        .theme-bg-4 {
            background: linear-gradient(135deg, rgb(255, 210, 220), rgb(245, 200, 210));
            background-image: radial-gradient(circle at 50% 50%, rgba(255, 255, 255, 0.15) 0, rgba(255, 255, 255, 0.15) 5px, transparent 5px);
            background-size: 20px 20px;
        }

        .theme-bg-5 {
            background: linear-gradient(135deg, rgb(220, 230, 255), rgb(200, 215, 245));
            background-image:
                linear-gradient(rgba(255, 255, 255, 0.1) 2px, transparent 2px),
                linear-gradient(90deg, rgba(255, 255, 255, 0.1) 2px, transparent 2px);
            background-size: 40px 40px;
        }

        .theme-bg-6 {
            background: linear-gradient(135deg, rgb(210, 245, 230), rgb(190, 235, 215));
            background-image:
                repeating-linear-gradient(-45deg, rgba(255, 255, 255, 0.1) 0, rgba(255, 255, 255, 0.1) 1px, transparent 1px, transparent 10px);
        }

        .theme-bg-7 {
            background: linear-gradient(135deg, rgb(250, 215, 225), rgb(240, 200, 215));
            background-image: radial-gradient(rgba(255, 255, 255, 0.15) 1.5px, transparent 1.5px);
            background-size: 15px 15px;
        }

        .theme-bg-8 {
            background: linear-gradient(135deg, rgb(225, 235, 255), rgb(210, 225, 250));
            background-image:
                linear-gradient(rgba(255, 255, 255, 0.1) 1px, transparent 1px),
                linear-gradient(90deg, rgba(255, 255, 255, 0.1) 1px, transparent 1px);
            background-size: 15px 15px;
        }



        .new-badge {
            position: absolute;
            top: 12px;
            right: 12px;
            background: linear-gradient(135deg,
                rgba(255, 200, 210, 0.9),
                rgba(230, 240, 255, 0.9));
            color: #333;
            font-size: var(--font-xs);
            font-weight: var(--font-weight-medium);
            padding: 3px 10px;
            border-radius: var(--radius-full);
            z-index: 1;
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.05);
            letter-spacing: var(--letter-spacing-wide);
            text-transform: uppercase;
            backdrop-filter: blur(4px);
            border: 1px solid rgba(255, 255, 255, 0.5);
            animation: float-badge 3s ease-in-out infinite;
        }

        @keyframes float-badge {
            0% {
                transform: translateY(0);
            }
            50% {
                transform: translateY(-3px);
            }
            100% {
                transform: translateY(0);
            }
        }



        .blog-card-content {
            padding: var(--space-md);
            display: flex;
            flex-direction: column;
            flex: 1;
            gap: var(--space-xs);
        }

        .blog-card-tag {
            display: inline-block;
            background-color: rgba(255, 255, 255, 0.6);
            color: #333;
            font-size: var(--font-xs);
            padding: 3px 10px;
            border-radius: var(--radius-full);
            margin-bottom: var(--space-2xs);
            align-self: flex-start;
            font-weight: var(--font-weight-medium);
            letter-spacing: var(--letter-spacing-wide);
            text-transform: uppercase;
            border: 1px solid rgba(255, 255, 255, 0.3);
            backdrop-filter: blur(4px);
        }

        .blog-card-title {
            font-size: var(--font-md);
            color: var(--text-primary);
            margin-bottom: var(--space-2xs);
            font-weight: var(--font-weight-semibold);
            line-height: var(--line-height-tight);
            letter-spacing: var(--letter-spacing-tight);
        }

        .blog-card-excerpt {
            font-size: var(--font-sm);
            color: var(--text-secondary);
            margin-bottom: var(--space-xs);
            line-height: var(--line-height-normal);
            flex: 1;
            display: -webkit-box;
            -webkit-line-clamp: 3;
            -webkit-box-orient: vertical;
            overflow: hidden;
            text-overflow: ellipsis;
            font-weight: var(--font-weight-regular);
        }

        .blog-card-meta {
            display: flex;
            justify-content: space-between;
            font-size: var(--font-xs);
            color: var(--text-tertiary);
            margin-top: auto;
            padding-top: var(--space-xs);
            border-top: 1px solid rgba(0, 0, 0, 0.05);
            font-weight: var(--font-weight-regular);
        }

        .blog-card-date, .blog-card-read-time {
            font-size: var(--font-xs);
        }

        .chat-area {
            display: none; /* Initially hidden, will be shown when chat starts */
            width: 100%;
        }

        .chat-messages {
            display: flex;
            flex-direction: column;
            gap: var(--space-md);
            padding: var(--space-sm) 0;
        }

        .message {
            display: flex;
            flex-direction: column;
            position: relative;
        }

        .message-header {
            display: flex;
            align-items: center;
            margin-bottom: var(--space-2xs);
        }

        .message-avatar {
            width: 20px;
            height: 20px;
            border-radius: 50%;
            margin-right: var(--space-xs);
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: 400;
            font-size: var(--font-2xs);
            color: white;
        }

        .user-avatar {
            background-color: var(--primary);
        }

        .assistant-avatar {
            background-color: #10b981;
        }

        .message-sender {
            font-weight: var(--font-weight-medium);
            font-size: var(--font-xs);
            color: var(--text-secondary);
            letter-spacing: var(--letter-spacing-wide);
        }

        .message-content {
            padding-left: 28px;
            color: var(--text-secondary);
            line-height: var(--line-height-normal);
            font-size: var(--font-md);
            font-weight: var(--font-weight-regular);
            letter-spacing: var(--letter-spacing-normal);
        }

        /* Markdown styling */
        .message-content h1,
        .message-content h2,
        .message-content h3,
        .message-content h4,
        .message-content h5,
        .message-content h6 {
            margin-top: var(--space-md);
            margin-bottom: var(--space-xs);
            font-weight: var(--font-weight-semibold);
            line-height: var(--line-height-tight);
            color: var(--text-primary);
            letter-spacing: var(--letter-spacing-tight);
        }

        .message-content h1 {
            font-size: 1.5rem;
            color: var(--primary);
            border-bottom: 1px solid var(--border-light);
            padding-bottom: var(--space-xs);
        }

        .message-content h2 {
            font-size: 1.3rem;
            color: var(--primary);
            border-bottom: 1px solid var(--border-light);
            padding-bottom: var(--space-xs);
        }

        .message-content h3 {
            font-size: 1.2rem;
            color: var(--text-primary);
        }

        .message-content h4 {
            font-size: 1.1rem;
            color: var(--text-secondary);
        }

        .message-content h5 { font-size: 1rem; }
        .message-content h6 { font-size: 0.9rem; }

        .message-content p {
            margin-bottom: var(--space-xs);
        }

        .message-content ul,
        .message-content ol {
            margin-bottom: var(--space-xs);
            padding-left: var(--space-md);
        }

        .message-content li {
            margin-bottom: var(--space-2xs);
        }

        .message-content a {
            color: var(--primary);
            text-decoration: none;
        }

        .message-content a:hover {
            text-decoration: underline;
        }

        .message-content blockquote {
            border-left: 3px solid var(--primary-light);
            padding: var(--space-sm) var(--space-sm) var(--space-sm) var(--space-md);
            margin: var(--space-sm) 0;
            color: var(--text-secondary);
            font-style: italic;
            background-color: rgba(0, 0, 0, 0.03);
            border-radius: var(--radius-sm);
        }

        .message-content table {
            border-collapse: collapse;
            width: 100%;
            margin: var(--space-md) 0;
            font-size: var(--font-sm);
            box-shadow: 0 1px 3px rgba(0, 0, 0, 0.05);
        }

        .message-content th,
        .message-content td {
            border: 1px solid var(--border);
            padding: var(--space-xs) var(--space-sm);
            text-align: left;
        }

        .message-content tr:nth-child(even) {
            background-color: rgba(0, 0, 0, 0.02);
        }

        .message-content th {
            background-color: var(--bg-light);
            color: var(--text-primary);
            font-weight: var(--font-weight-semibold);
            border-bottom: 2px solid var(--primary-light);
        }

        /* Code highlighting */
        .message-content pre {
            background-color: rgba(250, 250, 250, 0.5);
            border-radius: var(--radius-sm);
            padding: var(--space-sm);
            overflow-x: auto;
            margin: var(--space-xs) 0;
            border: 1px solid var(--border);
            font-size: var(--font-xs);
            backdrop-filter: blur(3px);
        }

        .message-content code {
            font-family: 'Menlo', 'Monaco', 'Courier New', monospace;
            font-size: var(--font-xs);
        }

        .message-content .highlight {
            background-color: transparent;
        }

        .message-content code.inline-code {
            background-color: rgba(250, 250, 250, 0.5);
            padding: 2px 4px;
            border-radius: 3px;
            font-size: 0.9em;
        }

        /* Task lists */
        .message-content ul.task-list {
            list-style-type: none;
            padding-left: var(--space-xs);
        }

        .message-content .task-list-item {
            margin-bottom: var(--space-2xs);
        }

        .message-content .task-list-item-checkbox {
            margin-right: var(--space-2xs);
        }

        /* Special styles for horizontal rules */
        .message-content hr {
            border: none;
            height: 1px;
            background: linear-gradient(to right,
                rgba(255, 200, 210, 0.3),
                rgba(230, 240, 255, 0.3),
                rgba(220, 255, 240, 0.3));
            margin: var(--space-md) 0;
        }

        /* Refined genie animation for assistant messages */
        .assistant .message-content {
            position: relative;
            animation: genieAppear 0.5s cubic-bezier(0.22, 1, 0.36, 1);
            background: var(--bg-white);
            border-radius: var(--radius-md);
            padding: var(--space-sm) var(--space-md);
            margin-left: -4px;
            border-left: 2px solid rgba(99, 102, 241, 0.2);
            backdrop-filter: blur(5px);
        }

        /* Humorous easter egg - random witty comments that appear rarely */
        .assistant .message-content::after {
            content: attr(data-witty);
            position: absolute;
            bottom: -18px;
            right: 10px;
            font-size: var(--font-xs);
            color: var(--text-quaternary);
            font-style: italic;
            opacity: 0;
            transform: translateY(-5px);
            transition: opacity 0.3s ease, transform 0.3s ease;
            pointer-events: none;
        }

        .assistant .message-content:hover::after {
            opacity: 0.8;
            transform: translateY(0);
        }

        @keyframes genieAppear {
            0% {
                opacity: 0;
                transform: translateY(-4px);
            }
            100% {
                opacity: 1;
                transform: translateY(0);
            }
        }

        /* Subtle sparkle effect */
        .assistant .message-content::before {
            content: '';
            position: absolute;
            top: -2px;
            left: 4px;
            width: 8px;
            height: 8px;
            background: radial-gradient(circle, rgba(99, 102, 241, 0.4) 0%, rgba(99, 102, 241, 0) 70%);
            border-radius: 50%;
            opacity: 0;
            animation: sparkle 1s ease-out;
        }

        @keyframes sparkle {
            0% {
                transform: scale(0);
                opacity: 0;
            }
            30% {
                transform: scale(1);
                opacity: 0.5;
            }
            100% {
                transform: scale(1.5);
                opacity: 0;
            }
        }

        .loading-dots {
            display: flex;
            padding-left: 28px;
            gap: 4px;
            position: relative;
            height: 28px;
            align-items: center;
        }

        .loading-dots::before {
            content: 'Thinking';
            position: absolute;
            left: 28px;
            font-size: var(--font-xs);
            color: var(--primary);
            opacity: 0.7;
            animation: ellipsis 1.4s infinite;
        }

        /* Humorous loading animation with ellipsis */
        @keyframes ellipsis {
            0% { content: "Thinking"; }
            25% { content: "Thinking."; }
            50% { content: "Thinking.."; }
            75% { content: "Thinking..."; }
        }

        .loading-dots span {
            width: 6px;
            height: 6px;
            border-radius: 50%;
            background: var(--primary);
            animation: pulse 1.4s infinite ease-in-out both;
            opacity: 0.5;
            position: relative;
        }

        .loading-dots span:nth-child(1) {
            animation-delay: -0.32s;
        }

        .loading-dots span:nth-child(2) {
            animation-delay: -0.16s;
        }

        @keyframes pulse {
            0%, 80%, 100% {
                transform: scale(0.6);
                opacity: 0.4;
            }
            40% {
                transform: scale(1);
                opacity: 0.8;
            }
        }

        /* Refined sparkle elements */
        .sparkle {
            position: absolute;
            width: 6px;
            height: 6px;
            background: radial-gradient(circle, rgba(255, 255, 255, 0.9) 0%, rgba(99, 102, 241, 0.2) 60%, transparent 100%);
            border-radius: 50%;
            pointer-events: none;
            z-index: 10;
            animation: sparkleFloat 0.8s ease-out forwards;
            opacity: 0.7;
        }

        @keyframes sparkleFloat {
            0% {
                transform: scale(0) rotate(0deg);
                opacity: 0;
            }
            30% {
                transform: scale(1) rotate(45deg);
                opacity: 0.7;
            }
            100% {
                transform: scale(0.2) rotate(90deg) translate(0, -20px);
                opacity: 0;
            }
        }

        /* Function call styling */
        .function-call-info {
            background-color: rgba(99, 102, 241, 0.1);
            border-radius: var(--radius-md);
            padding: var(--space-sm);
            margin-bottom: var(--space-sm);
            border-left: 3px solid var(--primary);
        }

        .function-call-header {
            display: flex;
            align-items: center;
            gap: var(--space-xs);
            margin-bottom: var(--space-xs);
            font-weight: 500;
            color: var(--primary);
        }

        .function-icon {
            font-size: var(--font-md);
        }

        .function-name {
            font-family: 'Menlo', 'Monaco', 'Courier New', monospace;
            font-size: var(--font-xs);
        }

        .function-result {
            background-color: rgba(255, 255, 255, 0.7);
            border-radius: var(--radius-sm);
            padding: var(--space-xs);
            overflow-x: auto;
            font-family: 'Menlo', 'Monaco', 'Courier New', monospace;
            font-size: var(--font-xs);
            color: var(--text-secondary);
            max-height: 200px;
            overflow-y: auto;
        }

        .function-result pre {
            margin: 0;
            white-space: pre-wrap;
        }

        /* Changelog popup styling */
        .changelog-backdrop {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.5);
            z-index: 9998;
            opacity: 0;
            transition: opacity 0.3s ease;
            display: none;
        }

        .changelog-backdrop.show {
            opacity: 1;
        }

        .changelog-popup {
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%) scale(0.95);
            background-color: white;
            border: 1px solid rgba(0, 0, 0, 0.1);
            border-radius: var(--radius-md);
            box-shadow: 0 20px 60px rgba(0, 0, 0, 0.25);
            z-index: 9999; /* Increased z-index to ensure it's on top */
            width: 600px;
            max-width: 90vw;
            max-height: 80vh;
            overflow-y: auto;
            backdrop-filter: blur(15px);
            transition: all 0.3s ease;
            opacity: 0;
            display: none; /* Hidden by default */
        }

        .changelog-popup.show {
            opacity: 1;
            transform: translate(-50%, -50%) scale(1);
        }

        .changelog-content {
            padding: var(--space-lg);
        }

        .changelog-entry {
            margin-bottom: var(--space-xl);
            position: relative;
        }

        .changelog-version {
            font-size: var(--font-md);
            font-weight: 500;
            color: var(--text-primary);
            margin-bottom: var(--space-sm);
            display: flex;
            align-items: center;
            gap: var(--space-xs);
        }

        .changelog-version::before {
            content: "";
            display: inline-block;
            width: 8px;
            height: 8px;
            background-color: var(--primary);
            border-radius: 50%;
        }

        .changelog-entry:last-child {
            margin-bottom: 0;
        }

        .changelog-list {
            list-style-type: disc;
            padding-left: var(--space-lg);
            margin: var(--space-sm) 0;
            color: var(--text-secondary);
            position: relative;
            line-height: 1.6;
        }

        .changelog-list li::marker {
            color: var(--primary);
            opacity: 0.7;
        }

        .changelog-list li {
            margin-bottom: var(--space-xs);
        }

        .changelog-list li strong {
            color: var(--primary);
            font-weight: 500;
        }

        .changelog-list li a {
            color: var(--primary);
            text-decoration: none;
            font-weight: var(--font-weight-medium);
            transition: all 0.2s ease;
            border-bottom: 1px dotted var(--primary);
        }

        .changelog-list li a:hover {
            color: var(--primary-hover);
            border-bottom-style: solid;
        }

        /* Documentation popup styling */
        .documentation-section {
            margin-bottom: var(--space-xl);
            position: relative;
        }

        .documentation-section h2 {
            font-size: var(--font-lg);
            font-weight: 500;
            color: var(--primary);
            margin-bottom: var(--space-sm);
            padding-bottom: var(--space-xs);
            border-bottom: 1px solid var(--border);
        }

        .documentation-section h3 {
            font-size: var(--font-md);
            font-weight: 500;
            color: var(--text-primary);
            margin-top: var(--space-md);
            margin-bottom: var(--space-xs);
        }

        .documentation-section p {
            margin-bottom: var(--space-sm);
            color: var(--text-secondary);
            line-height: 1.6;
        }

        .documentation-list {
            list-style-type: disc;
            padding-left: var(--space-lg);
            margin: var(--space-sm) 0;
            color: var(--text-secondary);
            position: relative;
            line-height: 1.6;
        }

        .documentation-list li::marker {
            color: var(--primary);
            opacity: 0.7;
        }

        .documentation-list li {
            margin-bottom: var(--space-xs);
        }

        .documentation-list li strong {
            color: var(--primary);
            font-weight: 500;
        }

        .documentation-divider {
            height: 1px;
            background: linear-gradient(to right,
                rgba(255, 200, 210, 0.3),
                rgba(230, 240, 255, 0.3),
                rgba(220, 255, 240, 0.3));
            margin: var(--space-lg) 0;
        }


        footer {
            padding: var(--space-lg) var(--space-md) var(--space-md);
            font-size: var(--font-xs);
            color: var(--text-quaternary);
            margin-top: var(--space-xl);
            font-weight: var(--font-weight-regular);
            letter-spacing: var(--letter-spacing-normal);
            border-top: 1px solid rgba(0, 0, 0, 0.03);
            background-color: rgba(255, 255, 255, 0.3);
            backdrop-filter: blur(10px);
        }

        .footer-main {
            display: flex;
            flex-wrap: wrap;
            justify-content: space-between;
            gap: var(--space-lg);
            margin-bottom: var(--space-lg);
        }

        .footer-section {
            display: flex;
            flex-direction: column;
            gap: var(--space-xs);
            min-width: 120px;
        }

        .footer-heading {
            color: var(--text-secondary);
            font-weight: var(--font-weight-medium);
            margin-bottom: var(--space-2xs);
        }

        .footer-logo {
            font-weight: var(--font-weight-semibold);
            font-size: var(--font-sm);
            color: var(--text-primary);
        }

        .version-tag {
            display: inline-block;
            background-color: rgba(99, 102, 241, 0.1);
            color: var(--primary);
            padding: 2px 6px;
            border-radius: var(--radius-full);
            font-size: var(--font-2xs);
            margin-top: var(--space-2xs);
        }

        .changelog-link {
            color: var(--primary);
            font-size: var(--font-2xs);
            text-decoration: underline;
            text-decoration-style: dotted;
            text-underline-offset: 2px;
            margin-top: var(--space-2xs);
        }

        .footer-bottom {
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: var(--space-xs);
            text-align: center;
            padding-top: var(--space-md);
            border-top: 1px solid rgba(0, 0, 0, 0.03);
        }

        .copyright, .compliance, .version-info {
            margin: 0;
            font-size: var(--font-2xs);
            color: var(--text-tertiary);
        }

        .version-info {
            margin-top: var(--space-xs);
            display: flex;
            align-items: center;
            justify-content: center;
            gap: var(--space-xs);
        }

        .version-info a {
            position: relative;
            padding: 0 var(--space-xs);
        }

        .version-info a:not(:last-child)::after {
            content: "";
            position: absolute;
            right: -4px;
            top: 50%;
            transform: translateY(-50%);
            width: 3px;
            height: 3px;
            border-radius: 50%;
            background-color: var(--text-quaternary);
        }

        footer a {
            color: var(--primary);
            text-decoration: none;
            transition: all 0.2s ease;
            display: inline-flex;
            align-items: center;
        }

        footer a:hover {
            color: var(--primary-hover);
            transform: translateY(-1px);
        }

        .footer-icon {
            display: inline-flex;
            align-items: center;
            gap: 4px;
            background-color: rgba(255, 255, 255, 0.5);
            padding: 4px 8px;
            border-radius: var(--radius-full);
            border: 1px solid rgba(0, 0, 0, 0.03);
        }

        .footer-icon .icon-svg {
            width: 14px;
            height: 14px;
        }





        @media (max-width: 768px) {
            .footer-main {
                flex-direction: column;
                gap: var(--space-md);
            }

            .footer-section {
                align-items: center;
                text-align: center;
            }
        }

        #footer-temp-value {
            font-size: var(--font-xs);
            font-weight: 500;
        }

        /* Temperature popup */
        .temperature-popup {
            position: fixed;
            bottom: 60px;
            left: 50%;
            transform: translateX(-50%);
            background-color: rgba(255, 255, 255, 0.8);
            border: 1px solid var(--border);
            border-radius: var(--radius-md);
            padding: 0;
            box-shadow: 0 4px 20px rgba(0, 0, 0, 0.1);
            z-index: 1000;
            width: 300px;
            backdrop-filter: blur(10px);
            overflow: hidden;
            transition: opacity 0.2s ease, transform 0.2s ease;
        }

        .popup-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: var(--space-md) var(--space-lg);
            background-color: white;
            color: var(--text-primary);
            font-size: var(--font-md);
            font-weight: var(--font-weight-medium);
            border-bottom: 1px solid rgba(0, 0, 0, 0.05);
            letter-spacing: var(--letter-spacing-tight);
            position: sticky;
            top: 0;
            z-index: 1;
            box-shadow: 0 1px 2px rgba(0, 0, 0, 0.03);
        }

        .close-btn {
            background: rgba(0, 0, 0, 0.03);
            border: none;
            color: var(--text-secondary);
            font-size: 24px;
            cursor: pointer;
            padding: 0;
            line-height: 1;
            width: 32px;
            height: 32px;
            display: flex;
            align-items: center;
            justify-content: center;
            border-radius: 50%;
            transition: all 0.2s ease;
            margin-left: var(--space-xs);
            z-index: 10000; /* Ensure it's above everything */
        }

        .close-btn:hover {
            background-color: rgba(0, 0, 0, 0.08);
            color: var(--text-primary);
        }

        /* SVG Icons */
        .icon-svg {
            width: 16px;
            height: 16px;
            fill: currentColor;
            vertical-align: -0.125em;
        }

        /* Model notification */
        .model-notification {
            position: fixed;
            bottom: 16px;
            left: 50%;
            transform: translateX(-50%);
            background-color: var(--primary);
            color: white;
            padding: var(--space-2xs) var(--space-sm);
            border-radius: var(--radius-full);
            font-size: var(--font-xs);
            z-index: 1000;
            animation: fadeIn 0.2s ease-out;
            font-weight: var(--font-weight-regular);
            letter-spacing: var(--letter-spacing-normal);
        }

        /* Humorous notification easter egg */
        .model-notification::after {
            content: attr(data-joke);
            position: absolute;
            top: -20px;
            left: 50%;
            transform: translateX(-50%) scale(0.8);
            background-color: var(--text-primary);
            color: white;
            padding: var(--space-2xs) var(--space-xs);
            border-radius: var(--radius-sm);
            font-size: var(--font-2xs);
            opacity: 0;
            pointer-events: none;
            transition: opacity 0.2s ease, transform 0.2s ease;
            white-space: nowrap;
        }

        /* Temperature control styling */
        .temperature-control {
            width: 250px;
            padding: 15px;
            background-color: transparent;
            border-radius: var(--radius-md);
            position: relative;
        }

        .temperature-label {
            display: flex;
            justify-content: space-between;
            margin-bottom: 10px;
            font-size: var(--font-sm);
            color: var(--text-secondary);
        }

        #temperature-value {
            font-weight: var(--font-weight-medium);
            color: var(--primary);
            letter-spacing: var(--letter-spacing-normal);
        }

        #temperature-slider {
            width: 100%;
            height: 5px;
            -webkit-appearance: none;
            appearance: none;
            background: linear-gradient(to right, #3b82f6, #8b5cf6, #ec4899);
            outline: none;
            border-radius: 5px;
            margin: 10px 0;
        }

        #temperature-slider::-webkit-slider-thumb {
            -webkit-appearance: none;
            appearance: none;
            width: 16px;
            height: 16px;
            border-radius: 50%;
            background: white;
            border: 2px solid var(--primary);
            cursor: pointer;
            box-shadow: 0 2px 5px rgba(0, 0, 0, 0.2);
            transition: transform 0.1s ease;
        }

        #temperature-slider::-webkit-slider-thumb:hover {
            transform: scale(1.1);
        }

        #temperature-slider::-moz-range-thumb {
            width: 16px;
            height: 16px;
            border-radius: 50%;
            background: white;
            border: 2px solid var(--primary);
            cursor: pointer;
            box-shadow: 0 2px 5px rgba(0, 0, 0, 0.2);
            transition: transform 0.1s ease;
        }

        #temperature-slider::-moz-range-thumb:hover {
            transform: scale(1.1);
        }

        .temperature-labels {
            display: flex;
            justify-content: space-between;
            font-size: var(--font-xs);
            color: var(--text-secondary);
            margin-top: 5px;
        }





        .model-notification:hover::after {
            opacity: 0.9;
            transform: translateX(-50%) scale(1);
        }

        .model-notification.fade-out {
            animation: fadeOut 0.3s ease-out forwards;
        }

        @keyframes fadeOut {
            from {
                opacity: 1;
                transform: translate(-50%, 0);
            }
            to {
                opacity: 0;
                transform: translate(-50%, 10px);
            }
        }

        /* Cookbook styles */
        .cookbook-section {
            width: 100%;
            max-width: 640px;
            margin: var(--space-lg) auto var(--space-md);
        }

        .cookbook-toggle-btn {
            background-color: var(--bg-white);
            color: var(--text-tertiary);
            border: 1px solid var(--border);
            padding: var(--space-xs) var(--space-md);
            border-radius: var(--radius-full);
            font-size: var(--font-xs);
            cursor: pointer;
            transition: all 0.15s ease;
            font-weight: 400;
            display: flex;
            align-items: center;
            margin: 0 auto;
            backdrop-filter: blur(5px);
        }

        .toggle-icon {
            margin-right: var(--space-xs);
            font-size: var(--font-sm);
            transition: transform 0.2s ease;
            line-height: 1;
        }

        .toggle-text {
            color: var(--primary);
        }

        .cookbook-toggle-btn:hover {
            background-color: var(--primary-light);
            border-color: transparent;
        }

        .cookbook-content {
            display: flex;
            flex-direction: column;
            gap: var(--space-md);
            margin-top: var(--space-md);
            background-color: var(--bg-white);
            border-radius: var(--radius-md);
            padding: var(--space-md);
            border: 1px solid var(--border);
            backdrop-filter: blur(5px);
        }

        .cookbook-intro {
            text-align: center;
            margin-bottom: var(--space-sm);
        }

        .cookbook-intro h2 {
            font-size: var(--font-lg);
            color: var(--text-primary);
            margin: 0 0 var(--space-2xs);
            font-weight: 400;
            letter-spacing: -0.01em;
        }

        .cookbook-intro p {
            color: var(--text-tertiary);
            font-size: var(--font-xs);
            margin: 0 0 var(--space-md);
            max-width: 80%;
            margin-left: auto;
            margin-right: auto;
        }

        .cookbook-nav {
            display: flex;
            justify-content: center;
            gap: var(--space-2xs);
            flex-wrap: wrap;
            margin-bottom: var(--space-xs);
        }

        .cookbook-nav-btn {
            background-color: rgba(255, 255, 255, 0.5);
            border: 1px solid var(--border);
            color: var(--text-tertiary);
            padding: var(--space-2xs) var(--space-xs);
            border-radius: var(--radius-full);
            font-size: var(--font-xs);
            cursor: pointer;
            transition: all 0.15s ease;
            backdrop-filter: blur(3px);
        }

        .cookbook-nav-btn.active {
            background-color: var(--primary-light);
            color: var(--primary);
            border-color: transparent;
            backdrop-filter: blur(3px);
        }

        .cookbook-nav-btn:hover:not(.active) {
            background-color: rgba(255, 255, 255, 0.7);
            color: var(--text-secondary);
        }

        /* Humorous cookbook button easter egg */
        .cookbook-nav-btn::after {
            content: attr(data-tip);
            position: absolute;
            bottom: -20px;
            left: 50%;
            transform: translateX(-50%) scale(0.8);
            background-color: var(--text-primary);
            color: white;
            padding: var(--space-2xs) var(--space-xs);
            border-radius: var(--radius-sm);
            font-size: var(--font-2xs);
            opacity: 0;
            pointer-events: none;
            transition: opacity 0.2s ease, transform 0.2s ease;
            white-space: nowrap;
            z-index: 10;
        }

        .cookbook-nav-btn:hover::after {
            opacity: 0.9;
            transform: translateX(-50%) scale(1);
        }



        .cookbook-slides {
            position: relative;
            min-height: 200px;
        }

        .cookbook-slide {
            display: none;
            opacity: 0;
            transition: opacity 0.2s ease;
        }

        .cookbook-slide.active {
            display: block;
            opacity: 1;
        }

        .slide-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: var(--space-sm);
            border-bottom: 1px solid var(--border);
            padding-bottom: var(--space-2xs);
        }

        .slide-header h3 {
            font-size: var(--font-sm);
            margin: 0;
            color: var(--text-primary);
            font-weight: 400;
            letter-spacing: -0.01em;
        }

        .slide-indicator {
            font-size: var(--font-2xs);
            color: var(--text-quaternary);
            padding: var(--space-2xs) var(--space-xs);
            border-radius: var(--radius-full);
            background-color: var(--bg-subtle);
        }

        .slide-content {
            padding: 0;
        }

        .slide-content > p {
            color: var(--text-tertiary);
            font-size: var(--font-xs);
            line-height: var(--line-normal);
            margin: 0 0 var(--space-sm);
        }

        .overview-grid {
            display: grid;
            grid-template-columns: repeat(4, 1fr);
            gap: var(--space-xs);
            margin-top: var(--space-sm);
        }

        .overview-item {
            background-color: var(--bg-subtle);
            padding: var(--space-sm);
            border-radius: var(--radius-sm);
            text-align: center;
            backdrop-filter: blur(3px);
        }

        .overview-icon {
            font-size: var(--font-lg);
            margin-bottom: var(--space-2xs);
            opacity: 0.9;
        }

        .overview-item h4 {
            font-size: var(--font-xs);
            margin: 0 0 var(--space-2xs);
            color: var(--text-primary);
            font-weight: 500;
        }

        .overview-item p {
            margin: 0;
            font-size: var(--font-2xs);
            color: var(--text-tertiary);
        }

        .code-block {
            background-color: rgba(250, 250, 250, 0.5);
            border-radius: var(--radius-sm);
            padding: var(--space-sm);
            overflow-x: auto;
            margin: 0;
            border: 1px solid var(--border);
            font-size: var(--font-xs);
            backdrop-filter: blur(3px);
        }

        .code-block code {
            font-family: 'Menlo', 'Monaco', 'Courier New', monospace;
            font-size: var(--font-xs);
            color: var(--text-secondary);
            line-height: var(--line-normal);
        }

        .quick-start {
            display: flex;
            flex-direction: column;
            gap: var(--space-sm);
        }

        .quick-start-step {
            display: flex;
            gap: var(--space-xs);
        }

        .step-number {
            width: 18px;
            height: 18px;
            background-color: var(--primary);
            color: white;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: var(--font-2xs);
            font-weight: 500;
            flex-shrink: 0;
        }

        .step-content {
            flex: 1;
        }

        .step-content h4 {
            font-size: var(--font-xs);
            margin: 0 0 var(--space-2xs);
            color: var(--text-primary);
            font-weight: 500;
        }

        .cookbook-features {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: var(--space-xs);
        }

        .feature-item {
            display: flex;
            gap: var(--space-xs);
            align-items: flex-start;
            background-color: var(--bg-subtle);
            padding: var(--space-sm);
            border-radius: var(--radius-sm);
            backdrop-filter: blur(3px);
        }

        .feature-icon {
            font-size: var(--font-md);
            line-height: 1;
            opacity: 0.9;
        }

        .feature-content h4 {
            font-size: var(--font-xs);
            margin: 0 0 var(--space-2xs);
            color: var(--text-primary);
            font-weight: 500;
        }

        .feature-content p {
            margin: 0;
            font-size: var(--font-2xs);
            color: var(--text-tertiary);
            line-height: var(--line-normal);
        }

        /* Humorous feature item animation */
        .feature-item {
            transition: transform 0.15s ease, background-color 0.15s ease;
            position: relative;
            overflow: hidden;
        }

        .feature-item::before {
            content: "";
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: linear-gradient(45deg, transparent 0%, var(--primary-light) 100%);
            opacity: 0;
            transition: opacity 0.2s ease;
        }

        .feature-item:hover {
            transform: translateY(-2px);
        }

        .feature-item:hover::before {
            opacity: 0.5;
        }



        /* Responsive adjustments */
        @media (max-width: 768px) {
            .container, .cookbook-section {
                width: 100%;
                padding-left: var(--space-sm);
                padding-right: var(--space-sm);
            }

            .header {
                padding: var(--space-lg) 0 var(--space-sm);
            }

            .logo-container {
                margin-bottom: var(--space-sm);
            }

            .logo-icon, .triangle-icon {
                transform: scale(0.9);
            }

            .tabs {
                flex-wrap: wrap;
                justify-content: center;
                margin-bottom: var(--space-sm);
                gap: var(--space-2xs);
            }

            .tab {
                font-size: var(--font-xs);
                padding: var(--space-2xs) var(--space-sm);
            }

            .tab-icon {
                width: 14px;
                height: 14px;
                font-size: 8px;
            }

            .input-container {
                padding: var(--space-2xs) var(--space-xs);
            }

            input[type="text"] {
                font-size: var(--font-sm);
            }

            .message-avatar {
                width: 16px;
                height: 16px;
                font-size: 8px;
            }

            .message-content {
                font-size: var(--font-sm);
                padding-left: 24px;
            }

            .assistant .message-content {
                padding: var(--space-xs) var(--space-sm);
            }

            .cookbook-toggle-btn {
                font-size: 10px;
                padding: 4px 10px;
            }

            .cookbook-intro h2 {
                font-size: var(--font-md);
            }

            .cookbook-intro p {
                font-size: 10px;
                max-width: 95%;
            }

            .cookbook-nav {
                gap: 2px;
            }

            .cookbook-nav-btn {
                font-size: 10px;
                padding: 2px 6px;
            }

            .slide-header h3 {
                font-size: var(--font-xs);
            }

            .slide-indicator {
                font-size: 8px;
                padding: 2px 4px;
            }

            .overview-grid {
                grid-template-columns: repeat(2, 1fr);
                gap: var(--space-2xs);
            }

            .overview-item {
                padding: var(--space-xs);
            }

            .cookbook-features {
                grid-template-columns: 1fr;
                gap: var(--space-xs);
            }

            .feature-item {
                padding: var(--space-xs);
            }

            .code-block, .message-content pre {
                padding: var(--space-xs);
                font-size: 10px;
            }

            .code-block code, .message-content pre code {
                font-size: 10px;
            }

            .cookbook-content {
                padding: var(--space-sm);
                gap: var(--space-sm);
            }

            /* Humorous mobile easter egg */
            .container::after {
                content: "I'm tiny but mighty!";
                position: fixed;
                bottom: 5px;
                right: 5px;
                font-size: 8px;
                color: var(--text-quaternary);
                opacity: 0.5;
                pointer-events: none;
            }

            /* Footer responsive adjustments */
            footer {
                font-size: 10px;
            }
        }

        /* Dark mode support - just a hint for future implementation */
        @media (prefers-color-scheme: dark) {
            /* This is just a placeholder for future dark mode support */
            /* The actual implementation would require more comprehensive changes */
            html::before {
                content: "🌙 Dark mode coming soon...";
                position: fixed;
                bottom: 5px;
                left: 5px;
                font-size: 8px;
                color: var(--text-quaternary);
                opacity: 0.3;
                pointer-events: none;
                z-index: 9999;
            }
        }

        /* Voice search overlay */
        .voice-search-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: linear-gradient(135deg,
                rgba(255, 220, 228, 0.95) 0%,
                rgba(230, 240, 255, 0.95) 50%,
                rgba(220, 255, 240, 0.95) 100%);
            z-index: 2000;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            opacity: 0;
            visibility: hidden;
            transition: opacity 0.3s ease, visibility 0.3s ease;
            backdrop-filter: blur(10px);
        }

        .voice-search-overlay.active {
            opacity: 1;
            visibility: visible;
        }

        .voice-search-content {
            text-align: center;
            max-width: 500px;
            padding: var(--space-lg);
        }

        .voice-search-title {
            font-size: var(--font-xl);
            font-weight: var(--font-weight-medium);
            margin-bottom: var(--space-md);
            color: var(--text-primary);
        }

        .voice-search-subtitle {
            font-size: var(--font-md);
            color: var(--text-secondary);
            margin-bottom: var(--space-xl);
        }

        .voice-visualization {
            width: 200px;
            height: 200px;
            border-radius: 50%;
            background: rgba(255, 255, 255, 0.8);
            display: flex;
            align-items: center;
            justify-content: center;
            margin: 0 auto var(--space-xl);
            position: relative;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.05);
        }

        /* Humorous tooltip for voice visualization */
        .voice-visualization::after {
            content: attr(data-humor);
            position: absolute;
            top: -40px;
            left: 50%;
            transform: translateX(-50%) scale(0.8);
            background-color: var(--text-primary);
            color: white;
            padding: var(--space-xs) var(--space-sm);
            border-radius: var(--radius-sm);
            font-size: var(--font-sm);
            opacity: 0;
            pointer-events: none;
            transition: opacity 0.3s ease, transform 0.3s ease;
            white-space: nowrap;
            z-index: 100;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
        }

        .voice-visualization:hover::after {
            opacity: 0.95;
            transform: translateX(-50%) scale(1);
        }

        .voice-icon {
            width: 80px;
            height: 80px;
            color: var(--primary);
            opacity: 0.8;
        }

        .voice-waves {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            border-radius: 50%;
        }

        .voice-wave {
            position: absolute;
            border: 2px solid var(--primary);
            border-radius: 50%;
            opacity: 0;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%) scale(0.5);
            animation: voice-wave-animation 2s infinite;
        }

        .voice-wave:nth-child(1) {
            width: 100%;
            height: 100%;
            animation-delay: 0s;
        }

        .voice-wave:nth-child(2) {
            width: 85%;
            height: 85%;
            animation-delay: 0.3s;
        }

        .voice-wave:nth-child(3) {
            width: 70%;
            height: 70%;
            animation-delay: 0.6s;
        }

        @keyframes voice-wave-animation {
            0% {
                opacity: 0;
                transform: translate(-50%, -50%) scale(0.5);
            }
            50% {
                opacity: 0.3;
            }
            100% {
                opacity: 0;
                transform: translate(-50%, -50%) scale(1.2);
            }
        }

        .voice-bars-container {
            display: flex;
            justify-content: center;
            align-items: center;
            height: 60px;
            gap: 4px;
            margin-bottom: var(--space-lg);
        }

        .voice-bar {
            width: 6px;
            height: 20px;
            background-color: var(--primary);
            border-radius: 3px;
            opacity: 0.7;
        }

        .recording .voice-bar {
            animation: voice-bar-animation 1s infinite;
        }

        .voice-bar:nth-child(1) { animation-delay: 0.1s; }
        .voice-bar:nth-child(2) { animation-delay: 0.2s; }
        .voice-bar:nth-child(3) { animation-delay: 0.3s; }
        .voice-bar:nth-child(4) { animation-delay: 0.4s; }
        .voice-bar:nth-child(5) { animation-delay: 0.5s; }
        .voice-bar:nth-child(6) { animation-delay: 0.6s; }
        .voice-bar:nth-child(7) { animation-delay: 0.7s; }

        @keyframes voice-bar-animation {
            0% {
                height: 20px;
            }
            50% {
                height: 50px;
            }
            100% {
                height: 20px;
            }
        }

        .voice-transcript {
            font-size: var(--font-lg);
            color: var(--text-primary);
            min-height: 60px;
            margin-bottom: var(--space-lg);
            font-weight: var(--font-weight-medium);
        }

        .voice-suggestions {
            display: flex;
            flex-wrap: wrap;
            justify-content: center;
            gap: var(--space-xs);
            margin-bottom: var(--space-xl);
        }

        .voice-suggestion {
            background-color: rgba(255, 255, 255, 0.6);
            border-radius: var(--radius-full);
            padding: var(--space-xs) var(--space-sm);
            font-size: var(--font-sm);
            color: var(--text-secondary);
            cursor: pointer;
            transition: all 0.2s ease;
            border: 1px solid rgba(255, 255, 255, 0.3);
        }

        .voice-suggestion:hover {
            background-color: rgba(255, 255, 255, 0.8);
            color: var(--text-primary);
        }

        .voice-actions {
            display: flex;
            gap: var(--space-md);
        }

        .voice-action-btn {
            background-color: rgba(255, 255, 255, 0.8);
            border: none;
            border-radius: var(--radius-full);
            padding: var(--space-sm) var(--space-lg);
            font-size: var(--font-sm);
            font-weight: var(--font-weight-medium);
            color: var(--text-primary);
            cursor: pointer;
            transition: all 0.2s ease;
            display: flex;
            align-items: center;
            gap: var(--space-xs);
        }

        .voice-action-btn.primary {
            background-color: var(--primary);
            color: white;
        }

        .voice-action-btn.highlight {
            animation: button-pulse 0.5s ease;
        }

        @keyframes button-pulse {
            0% {
                transform: scale(1);
            }
            50% {
                transform: scale(1.1);
                box-shadow: 0 4px 20px rgba(99, 102, 241, 0.4);
            }
            100% {
                transform: scale(1);
            }
        }

        .voice-action-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
        }

        /* Popup styles (shared between Philosophy and Changelog) */
        .popup-backdrop {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.5);
            z-index: 1000;
            opacity: 0;
            transition: opacity 0.3s ease;
            backdrop-filter: blur(3px);
            display: none;
        }

        .popup-backdrop.show {
            opacity: 1;
        }

        .popup-container {
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            width: 90%;
            max-width: 600px;
            max-height: 80vh;
            background-color: white;
            border-radius: var(--radius-lg);
            box-shadow: var(--shadow-lg);
            z-index: 1001;
            display: none;
            overflow: hidden;
            flex-direction: column;
            opacity: 0;
            transform: translate(-50%, -48%);
            transition: opacity 0.3s ease, transform 0.3s ease;
        }

        .popup-container.show {
            opacity: 1;
            transform: translate(-50%, -50%);
        }

        .popup-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: var(--space-md);
            border-bottom: 1px solid var(--border-light);
            background-color: var(--bg-light);
        }

        .popup-header span {
            font-weight: var(--font-weight-semibold);
            font-size: var(--font-lg);
            color: var(--text-primary);
        }

        .close-btn {
            background: none;
            border: none;
            font-size: 24px;
            color: var(--text-tertiary);
            cursor: pointer;
            padding: 0;
            line-height: 1;
        }

        .close-btn:hover {
            color: var(--text-primary);
        }

        .popup-content {
            padding: var(--space-md);
            overflow-y: auto;
            flex: 1;
        }

        /* Philosophy specific styles */
        .philosophy-section {
            margin-bottom: var(--space-lg);
        }

        .philosophy-section h2 {
            font-size: var(--font-lg);
            color: var(--text-primary);
            margin-bottom: var(--space-sm);
            font-weight: var(--font-weight-semibold);
        }

        .philosophy-quote {
            font-style: italic;
            color: var(--primary);
            border-left: 3px solid var(--primary-light);
            padding-left: var(--space-md);
            margin: var(--space-md) 0;
            font-size: var(--font-md);
            line-height: 1.6;
        }

        .philosophy-list {
            list-style-type: none;
            padding-left: 0;
            margin: var(--space-md) 0;
        }

        .philosophy-list li {
            padding: var(--space-xs) 0;
            margin-bottom: var(--space-xs);
            font-size: var(--font-sm);
            color: var(--text-secondary);
            display: flex;
            align-items: flex-start;
        }

        .philosophy-list li:before {
            content: "•";
            color: var(--primary);
            font-weight: bold;
            display: inline-block;
            width: 1em;
            margin-right: var(--space-xs);
        }

        .philosophy-divider {
            height: 1px;
            background: linear-gradient(to right,
                rgba(255, 200, 210, 0.3),
                rgba(230, 240, 255, 0.3),
                rgba(220, 255, 240, 0.3));
            margin: var(--space-lg) 0;
        }

        /* Changelog specific styles */
        .changelog-entry {
            margin-bottom: var(--space-lg);
        }

        .changelog-entry:last-child {
            margin-bottom: 0;
        }

        .changelog-version {
            font-weight: var(--font-weight-semibold);
            font-size: var(--font-md);
            color: var(--text-primary);
            margin-bottom: var(--space-xs);
        }

        .changelog-list {
            list-style-type: none;
            padding-left: 0;
            margin: 0;
        }

        .changelog-list li {
            padding: var(--space-xs) 0;
            border-bottom: 1px solid var(--border-light);
            font-size: var(--font-sm);
            color: var(--text-secondary);
        }

        .changelog-list li:last-child {
            border-bottom: none;
        }

        .changelog-note {
            margin-top: 10px;
            padding: 8px 12px;
            background-color: rgba(0, 0, 0, 0.03);
            border-left: 3px solid rgba(0, 0, 0, 0.1);
            font-size: var(--font-sm);
            color: var(--text-secondary);
            border-radius: 0 var(--radius-sm) var(--radius-sm) 0;
        }

        /* Toast notification */
        #toast-notification {
            visibility: hidden;
            min-width: 250px;
            background-color: rgba(0, 0, 0, 0.8);
            color: #fff;
            text-align: center;
            border-radius: var(--radius-md);
            padding: 16px;
            position: fixed;
            z-index: 3000;
            left: 50%;
            bottom: 30px;
            transform: translateX(-50%);
            font-size: var(--font-sm);
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
            opacity: 0;
            transition: opacity 0.3s, visibility 0.3s;
            backdrop-filter: blur(5px);
        }

        #toast-notification.show {
            visibility: visible;
            opacity: 1;
        }
    </style>
</head>
<body>
    <div class="page-wrapper">


    <div class="header">
        <div class="logo-container">
            <!-- SnapEnhance Logo -->
            <div class="logo-icon">
                <svg width="50" height="50" viewBox="0 0 32 32" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <!-- Background with rounded corners -->
                    <rect width="32" height="32" rx="8" fill="rgba(255, 255, 255, 0.9)"/>
                    <rect width="32" height="32" rx="8" stroke="rgba(240, 240, 240, 0.5)" stroke-width="1"/>

                    <!-- Stylized S and E letters -->
                    <g fill="#212529" style="font-family: 'Outfit', system-ui, sans-serif; font-weight: 500;">
                        <text x="8" y="22" font-size="18">S</text>
                        <text x="17" y="22" font-size="18">E</text>
                    </g>

                    <!-- Subtle accent element -->
                    <rect x="8" y="24" width="16" height="2" rx="1" fill="#E9ECEF"/>
                </svg>
            </div>

            <!-- Divider -->
            <div class="logo-divider"></div>

            <!-- Triangle Logo -->
            <div class="triangle-icon">
                <svg width="40" height="40" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <path d="M12 2L2 22H22L12 2Z" stroke="#000000" stroke-width="3" stroke-linecap="round" stroke-linejoin="round" fill="none"/>
                </svg>
            </div>
        </div>

        <div class="header-controls">
            <div class="tabs" id="model-tabs">
                <div class="tab active" data-model="meta-llama/Llama-3.3-70B-Instruct-Turbo-Free" data-humor="I make complex ideas simple, not simple ideas complex">
                    <div class="tab-icon llama-icon">L</div>
                    Llama 3.3 70B
                </div>
                <div class="tab" data-model="deepseek-ai/DeepSeek-R1-Distill-Llama-70B-free" data-humor="Clarity over complexity, always">
                    <div class="tab-icon deepseek-icon">D</div>
                    DeepSeek R1
                </div>
            </div>

            <!-- Quick Mode Toggle in Header -->
            <div class="quick-mode-toggle header-quick-mode">
                <input type="checkbox" id="quick-mode" checked>
                <label for="quick-mode" title="Toggle quick response mode">⚡ Quick Mode</label>
            </div>
        </div>
    </div>

    <div class="container">
        <!-- Hidden model selector that will be updated by tab clicks -->
        <input type="hidden" id="model-select" value="meta-llama/Llama-3.3-70B-Instruct-Turbo-Free">
        <!-- Valid models: meta-llama/Llama-3.3-70B-Instruct-Turbo-Free, deepseek-ai/DeepSeek-R1-Distill-Llama-70B-free -->

        <div class="input-area">
            <!-- Standard chat input with search suggestions -->
            <div class="search-container">
                <div class="input-container" id="chat-input-container">
                    <div class="input-icon">
                        <svg class="icon-svg" viewBox="0 0 24 24">
                            <path d="M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z"/>
                        </svg>
                    </div>
                    <input type="text" id="user-input" placeholder="Start a new chat" autocomplete="off">
                    <div class="input-actions">
                        <button class="mic-button" data-humor="I'm all ears... literally">
                            <svg class="icon-svg" viewBox="0 0 24 24">
                                <path d="M12 14c1.66 0 3-1.34 3-3V5c0-1.66-1.34-3-3-3S9 3.34 9 5v6c0 1.66 1.34 3 3 3zm5.91-3c-.49 0-.9.36-.98.85C16.52 14.2 14.47 16 12 16s-4.52-1.8-4.93-4.15c-.08-.49-.49-.85-.98-.85-.61 0-1.09.54-1 1.14.49 3 2.89 5.35 5.91 5.78V20c0 .55.45 1 1 1s1-.45 1-1v-2.08c3.02-.43 5.42-2.78 5.91-5.78.1-.6-.39-1.14-1-1.14z"/>
                            </svg>
                        </button>
                        <button class="send-button" id="send-button">
                            <svg class="icon-svg" viewBox="0 0 24 24">
                                <path d="M2.01 21L23 12 2.01 3 2 10l15 2-15 2z"/>
                            </svg>
                        </button>
                    </div>
                </div>

                <!-- Search suggestions dropdown -->
                <div class="search-suggestions" id="search-suggestions">
                    <div class="suggestion-item">
                        <div class="suggestion-icon">
                            <svg class="icon-svg" viewBox="0 0 24 24">
                                <path d="M13 3c-4.97 0-9 4.03-9 9H1l3.89 3.89.07.14L9 12H6c0-3.87 3.13-7 7-7s7 3.13 7 7-3.13 7-7 7c-1.93 0-3.68-.79-4.94-2.06l-1.42 1.42C8.27 19.99 10.51 21 13 21c4.97 0 9-4.03 9-9s-4.03-9-9-9zm-1 5v5l4.28 2.54.72-1.21-3.5-2.08V8H12z"/>
                            </svg>
                        </div>
                        <span>how to use llama models</span>
                    </div>
                    <div class="suggestion-item">
                        <div class="suggestion-icon">
                            <svg class="icon-svg" viewBox="0 0 24 24">
                                <path d="M13 3c-4.97 0-9 4.03-9 9H1l3.89 3.89.07.14L9 12H6c0-3.87 3.13-7 7-7s7 3.13 7 7-3.13 7-7 7c-1.93 0-3.68-.79-4.94-2.06l-1.42 1.42C8.27 19.99 10.51 21 13 21c4.97 0 9-4.03 9-9s-4.03-9-9-9zm-1 5v5l4.28 2.54.72-1.21-3.5-2.08V8H12z"/>
                            </svg>
                        </div>
                        <span>compare deepseek and llama</span>
                    </div>
                    <div class="suggestion-item">
                        <div class="suggestion-icon">
                            <svg class="icon-svg" viewBox="0 0 24 24">
                                <path d="M12 2v8"></path>
                                <path d="M4.93 10.93l1.41 1.41"></path>
                                <path d="M2 18h2"></path>
                                <path d="M20 18h2"></path>
                                <path d="M19.07 10.93l-1.41 1.41"></path>
                                <path d="M22 22H2"></path>
                                <path d="M16 16l-4-4-4 4"></path>
                                <path d="M16 6a4 4 0 0 0-8 0"></path>
                            </svg>
                        </div>
                        <span>What's the weather like in New York?</span>
                    </div>
                    <div class="suggestion-item">
                        <div class="suggestion-icon">
                            <svg class="icon-svg" viewBox="0 0 24 24">
                                <circle cx="12" cy="12" r="10"></circle>
                                <polyline points="12 6 12 12 16 14"></polyline>
                            </svg>
                        </div>
                        <span>What time is it in Tokyo right now?</span>
                    </div>
                    <div class="suggestion-item">
                        <div class="suggestion-icon">
                            <svg class="icon-svg" viewBox="0 0 24 24">
                                <path d="M6 2L3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4z"></path>
                                <line x1="3" y1="6" x2="21" y2="6"></line>
                                <path d="M16 10a4 4 0 0 1-8 0"></path>
                            </svg>
                        </div>
                        <span>Find me some wireless headphones under $150</span>
                    </div>
                    <div class="suggestion-item">
                        <div class="suggestion-icon">
                            <svg class="icon-svg" viewBox="0 0 24 24">
                                <path d="M13 3c-4.97 0-9 4.03-9 9H1l3.89 3.89.07.14L9 12H6c0-3.87 3.13-7 7-7s7 3.13 7 7-3.13 7-7 7c-1.93 0-3.68-.79-4.94-2.06l-1.42 1.42C8.27 19.99 10.51 21 13 21c4.97 0 9-4.03 9-9s-4.03-9-9-9zm-1 5v5l4.28 2.54.72-1.21-3.5-2.08V8H12z"/>
                            </svg>
                        </div>
                        <span>explain quantum computing</span>
                    </div>
                </div>
            </div>


        </div>

        <!-- Blog Previews Section - Shown when chat is not active -->
        <div class="blog-previews" id="blog-previews">
            <div class="blog-header">
                <h2 class="blog-section-title">SnapEnhance Blog</h2>
                <a href="https://snapenhance.vercel.app/blog" class="view-all-btn">View All Posts</a>
            </div>

            <div class="blog-cards">
                <!-- Blog Card 1 - New Feedback Form (newest) -->
                <a href="https://snapenhance.vercel.app/feedback" class="blog-card">
                    <div class="blog-card-image theme-bg-1">
                        <div class="new-badge">New</div>
                    </div>
                    <div class="blog-card-content">
                        <div class="blog-card-tag">Announcement</div>
                        <h3 class="blog-card-title">New Feedback Form for SnapEnhance AI Platform!</h3>
                        <p class="blog-card-excerpt">We've launched a dedicated feedback form for the SnapEnhance AI platform. Share your thoughts, report issues, or suggest new features to help us improve.</p>
                        <div class="blog-card-meta">
                            <span class="blog-card-date">May 3, 2025</span>
                            <span class="blog-card-read-time">3 min read</span>
                        </div>
                    </div>
                </a>

                <!-- Blog Card 2 - Quick Mode Feature -->
                <a href="https://snapenhance.vercel.app/blog/quick-mode-feature" class="blog-card">
                    <div class="blog-card-image theme-bg-2">
                    </div>
                    <div class="blog-card-content">
                        <div class="blog-card-tag">Feature</div>
                        <h3 class="blog-card-title">Introducing Quick Mode: Speed Without Sacrifice</h3>
                        <p class="blog-card-excerpt">How our new Quick Mode toggle delivers ultra-fast responses while maintaining the quality information you expect from SnapEnhance.</p>
                        <div class="blog-card-meta">
                            <span class="blog-card-date">May 1, 2025</span>
                            <span class="blog-card-read-time">5 min read</span>
                        </div>
                    </div>
                </a>

                <!-- Blog Card 3 - Voice Interface Philosophy -->
                <a href="https://snapenhance.vercel.app/blog/voice-interface-philosophy" class="blog-card">
                    <div class="blog-card-image theme-bg-3">
                    </div>
                    <div class="blog-card-content">
                        <div class="blog-card-tag">Philosophy</div>
                        <h3 class="blog-card-title">The Philosophy Behind Our Voice Interface</h3>
                        <p class="blog-card-excerpt">Exploring the design principles and user-centered approach that guided the development of our immersive voice search experience.</p>
                        <div class="blog-card-meta">
                            <span class="blog-card-date">April 30, 2025</span>
                            <span class="blog-card-read-time">7 min read</span>
                        </div>
                    </div>
                </a>

                <!-- Blog Card 4 - Version Numbering -->
                <a href="https://snapenhance.vercel.app/blog/version-numbering" class="blog-card">
                    <div class="blog-card-image theme-bg-4">
                    </div>
                    <div class="blog-card-content">
                        <div class="blog-card-tag">Development</div>
                        <h3 class="blog-card-title">Our Version Numbering System</h3>
                        <p class="blog-card-excerpt">Understanding how we approach semantic versioning and what each version number means for our products.</p>
                        <div class="blog-card-meta">
                            <span class="blog-card-date">April 30, 2025</span>
                            <span class="blog-card-read-time">5 min read</span>
                        </div>
                    </div>
                </a>

                <!-- Blog Card 5 - SnapEnhance AI Platform -->
                <a href="https://snapenhance.vercel.app/blog/snapenhance-ai-platform" class="blog-card">
                    <div class="blog-card-image theme-bg-5">
                    </div>
                    <div class="blog-card-content">
                        <div class="blog-card-tag">Platform</div>
                        <h3 class="blog-card-title">Introducing the SnapEnhance AI Platform</h3>
                        <p class="blog-card-excerpt">A comprehensive overview of our AI platform architecture, capabilities, and integration options.</p>
                        <div class="blog-card-meta">
                            <span class="blog-card-date">April 30, 2025</span>
                            <span class="blog-card-read-time">9 min read</span>
                        </div>
                    </div>
                </a>

                <!-- Blog Card 6 - Prompt Engineering Guide -->
                <a href="https://snapenhance.vercel.app/blog/prompt-engineering-guide" class="blog-card">
                    <div class="blog-card-image theme-bg-6">
                    </div>
                    <div class="blog-card-content">
                        <div class="blog-card-tag">Guide</div>
                        <h3 class="blog-card-title">Prompt Engineering Guide</h3>
                        <p class="blog-card-excerpt">Learn how to craft effective prompts for Llama and DeepSeek models to get the best results from SnapEnhance.</p>
                        <div class="blog-card-meta">
                            <span class="blog-card-date">April 30, 2025</span>
                            <span class="blog-card-read-time">8 min read</span>
                        </div>
                    </div>
                </a>

                <!-- Blog Card 7 - Product Roadmap -->
                <a href="https://snapenhance.vercel.app/blog/product-roadmap" class="blog-card">
                    <div class="blog-card-image theme-bg-7">
                    </div>
                    <div class="blog-card-content">
                        <div class="blog-card-tag">Roadmap</div>
                        <h3 class="blog-card-title">SnapEnhance Product Roadmap</h3>
                        <p class="blog-card-excerpt">Our vision for the future of SnapEnhance, including upcoming features and long-term development goals.</p>
                        <div class="blog-card-meta">
                            <span class="blog-card-date">April 30, 2025</span>
                            <span class="blog-card-read-time">6 min read</span>
                        </div>
                    </div>
                </a>

                <!-- Blog Card 8 - AI Ethics -->
                <a href="https://snapenhance.vercel.app/blog/ai-ethics" class="blog-card">
                    <div class="blog-card-image theme-bg-8">
                    </div>
                    <div class="blog-card-content">
                        <div class="blog-card-tag">Ethics</div>
                        <h3 class="blog-card-title">Our Approach to AI Ethics</h3>
                        <p class="blog-card-excerpt">Exploring the ethical principles that guide our AI development and how we ensure responsible use of our technology.</p>
                        <div class="blog-card-meta">
                            <span class="blog-card-date">April 30, 2025</span>
                            <span class="blog-card-read-time">7 min read</span>
                        </div>
                    </div>
                </a>
            </div>
        </div>

        <div class="chat-area" id="chat-area">
            <div id="chat-messages" class="chat-messages">
                <!-- Messages will be added here dynamically -->
            </div>
        </div>
    </div>

    <div class="cookbook-section" id="cookbook-section">
        <button id="toggle-cookbook" class="cookbook-toggle-btn">
            <span class="toggle-icon">+</span>
            <span class="toggle-text">View Implementation Details</span>
        </button>

        <div class="cookbook-content" id="cookbook-content" style="display: none;">
            <div class="cookbook-intro">
                <h2>SnapEnhance Implementation</h2>
                <p>A lightweight chat interface powered by Together AI's language models</p>

                <div class="cookbook-nav">
                    <button class="cookbook-nav-btn active" data-slide="1" data-tip="Bird's eye view, no birds included">Overview</button>
                    <button class="cookbook-nav-btn" data-slide="2" data-tip="Where the magic happens (it's just code)">Server</button>
                    <button class="cookbook-nav-btn" data-slide="3" data-tip="Even you can do this!">Setup</button>
                    <button class="cookbook-nav-btn" data-slide="4" data-tip="Bells & whistles, mostly whistles">Features</button>
                </div>
            </div>

            <div class="cookbook-slides">
                <!-- Slide 1: Overview -->
                <div class="cookbook-slide active" data-slide-id="1">
                    <div class="slide-header">
                        <h3>Overview</h3>
                        <div class="slide-indicator">1/4</div>
                    </div>
                    <div class="slide-content">
                        <p>SnapEnhance is a lightweight chat interface that connects to Together AI's powerful language models. It features a clean, responsive design with delightful animations and a simple model selection interface.</p>

                        <div class="overview-grid">
                            <div class="overview-item">
                                <div class="overview-icon">🔌</div>
                                <h4>Backend</h4>
                                <p>Flask server with Together AI API integration</p>
                            </div>

                            <div class="overview-item">
                                <div class="overview-icon">🎨</div>
                                <h4>Frontend</h4>
                                <p>Clean HTML/CSS/JS with no frameworks</p>
                            </div>

                            <div class="overview-item">
                                <div class="overview-icon">🤖</div>
                                <h4>Models</h4>
                                <p>Llama 3.3 70B and DeepSeek R1</p>
                            </div>

                            <div class="overview-item">
                                <div class="overview-icon">✨</div>
                                <h4>Effects</h4>
                                <p>Magical animations and sparkles</p>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Slide 2: Server Implementation -->
                <div class="cookbook-slide" data-slide-id="2">
                    <div class="slide-header">
                        <h3>Server Implementation</h3>
                        <div class="slide-indicator">2/4</div>
                    </div>
                    <div class="slide-content">
                        <pre class="code-block"><code># server.py
from flask import Flask, render_template, jsonify, request
import os
from dotenv import load_dotenv
import requests

# Load environment variables
load_dotenv()
app = Flask(__name__)

# Get API key from environment variable
API_KEY = os.environ.get('TOGETHER_API_KEY')

@app.route('/')
def index():
    return render_template('snapenhance.html')

@app.route('/api/chat', methods=['POST'])
def chat():
    data = request.json
    prompt = data.get('prompt', '')
    model = data.get('model', 'meta-llama/Llama-3.3-70B-Instruct-Turbo-Free')

    # Call Together API
    response = requests.post(
        'https://api.together.xyz/v1/chat/completions',
        headers={
            'Content-Type': 'application/json',
            'Authorization': f'Bearer {API_KEY}'
        },
        json={
            'model': model,
            'messages': [{'role': 'user', 'content': prompt}],
            'max_tokens': 500,
            'temperature': 0.7
        }
    )

    return jsonify(response.json())</code></pre>
                    </div>
                </div>

                <!-- Slide 3: Setup -->
                <div class="cookbook-slide" data-slide-id="3">
                    <div class="slide-header">
                        <h3>Setup Guide</h3>
                        <div class="slide-indicator">3/4</div>
                    </div>
                    <div class="slide-content">
                        <div class="quick-start">
                            <div class="quick-start-step">
                                <div class="step-number">1</div>
                                <div class="step-content">
                                    <h4>Environment Setup</h4>
                                    <pre class="code-block"><code># .env file
TOGETHER_API_KEY=your_together_api_key_here</code></pre>
                                </div>
                            </div>

                            <div class="quick-start-step">
                                <div class="step-number">2</div>
                                <div class="step-content">
                                    <h4>Installation</h4>
                                    <pre class="code-block"><code>pip install flask python-dotenv requests</code></pre>
                                </div>
                            </div>

                            <div class="quick-start-step">
                                <div class="step-number">3</div>
                                <div class="step-content">
                                    <h4>Run the Server</h4>
                                    <pre class="code-block"><code>python server.py</code></pre>
                                </div>
                            </div>

                            <div class="quick-start-step">
                                <div class="step-number">4</div>
                                <div class="step-content">
                                    <h4>Access the App</h4>
                                    <pre class="code-block"><code>Open http://127.0.0.1:5001 in your browser</code></pre>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Slide 4: Features -->
                <div class="cookbook-slide" data-slide-id="4">
                    <div class="slide-header">
                        <h3>Key Features</h3>
                        <div class="slide-indicator">4/4</div>
                    </div>
                    <div class="slide-content">
                        <div class="cookbook-features">
                            <div class="feature-item">
                                <div class="feature-icon">🧩</div>
                                <div class="feature-content">
                                    <h4>Model Selection</h4>
                                    <p>Switch between Llama 3.3 70B and DeepSeek R1 models with a simple tab interface</p>
                                </div>
                            </div>

                            <div class="feature-item">
                                <div class="feature-icon">✨</div>
                                <div class="feature-content">
                                    <h4>Magical UI Effects</h4>
                                    <p>Enjoy delightful animations and sparkle effects when messages arrive</p>
                                </div>
                            </div>

                            <div class="feature-item">
                                <div class="feature-icon">🔒</div>
                                <div class="feature-content">
                                    <h4>Secure API Integration</h4>
                                    <p>API calls are made server-side to protect your Together AI API key</p>
                                </div>
                            </div>

                            <div class="feature-item">
                                <div class="feature-icon">📱</div>
                                <div class="feature-content">
                                    <h4>Responsive Design</h4>
                                    <p>Works beautifully on desktop and mobile devices</p>
                                </div>
                            </div>

                            <div class="feature-item">
                                <div class="feature-icon">🚀</div>
                                <div class="feature-content">
                                    <h4>Lightweight</h4>
                                    <p>No heavy frameworks or dependencies, just vanilla HTML, CSS, and JavaScript</p>
                                </div>
                            </div>

                            <div class="feature-item">
                                <div class="feature-icon">🎨</div>
                                <div class="feature-content">
                                    <h4>Clean Design</h4>
                                    <p>Harmonious typography and visual elements with no noise or redundancy</p>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <footer>
        <div class="footer-main">
            <div class="footer-section">
                <a href="https://snapenhance.vercel.app" class="footer-logo">SnapEnhance</a>
                <span class="version-tag">v1.4.0</span>
                <a href="#" class="changelog-link" id="changelog-link">Changelog</a>
            </div>

            <div class="footer-section">
                <span class="footer-heading">Models</span>
                <a href="https://huggingface.co/meta-llama/Llama-3.3-70B-Instruct">Llama-3.3-70B</a>
                <a href="https://huggingface.co/deepseek-ai/DeepSeek-R1-Distill-Llama-70B">DeepSeek R1</a>
            </div>

            <div class="footer-section">
                <span class="footer-heading">Resources</span>
                <a href="#" id="documentation-link">Documentation</a>
                <a href="https://snapenhance.vercel.app/blog">Blog</a>
                <a href="#" id="philosophy-link">Philosophy</a>
            </div>

            <div class="footer-section">
                <span class="footer-heading">Legal & Ethics</span>
                <a href="https://snapenhance.vercel.app/privacy">Privacy Policy</a>
                <a href="https://snapenhance.vercel.app/terms">Terms of Use</a>
                <a href="https://snapenhance.vercel.app/blog/ai-ethics">AI Ethics</a>
            </div>

            <div class="footer-section">
                <a href="#" id="temp-control-toggle" class="footer-icon" title="Adjust Temperature">
                    <svg class="icon-svg" viewBox="0 0 24 24">
                        <path d="M15 13V5c0-1.66-1.34-3-3-3S9 3.34 9 5v8c-1.21.91-2 2.37-2 4 0 2.76 2.24 5 5 5s5-2.24 5-5c0-1.63-.79-3.09-2-4zm-4-8c0-.55.45-1 1-1s1 .45 1 1h-2z"/>
                    </svg>
                    <span id="footer-temp-value">0.7</span>
                </a>
            </div>
        </div>

        <div class="footer-bottom">
            <p class="copyright">© 2023-2025 SnapEnhance. All rights reserved.</p>
            <p class="compliance">We comply with GDPR, CCPA, and follow responsible AI principles including transparency, fairness, and privacy.</p>
            <p class="version-info">Built with <a href="https://together.ai" target="_blank">Together AI</a> | <a href="https://github.com/snapenhanceai/ai-interface" target="_blank">Open Source</a> | <a href="https://snapenhance.vercel.app/ai-ml" target="_blank">AI & ML</a> | <a href="https://snapenhance.vercel.app/blog/product-roadmap" target="_blank">Roadmap</a></p>
        </div>


    </footer>

    <!-- Temperature control popup -->
    <div class="temperature-popup" id="temperature-popup" style="display: none;">
        <div class="popup-header">
            <span>Adjust Temperature</span>
            <button class="close-btn" id="temp-popup-close">×</button>
        </div>
        <div class="temperature-control">
            <div class="temperature-label">
                <span>Temperature:</span>
                <span id="temperature-value">0.7</span>
            </div>
            <input type="range" id="temperature-slider" min="0" max="1" step="0.1" value="0.7">
            <div class="temperature-labels">
                <span>Precise</span>
                <span>Balanced</span>
                <span>Creative</span>
            </div>
        </div>
    </div>

    <!-- Philosophy Backdrop and Popup -->
    <div class="popup-backdrop" id="philosophy-backdrop"></div>
    <div class="popup-container" id="philosophy-popup">
        <div class="popup-header">
            <span>Our Philosophy</span>
            <button class="close-btn" id="philosophy-popup-close">×</button>
        </div>
        <div class="popup-content">
            <div class="philosophy-section">
                <h2>Clarity Over Complexity</h2>
                <p class="philosophy-quote">"An intelligent person makes complex concepts seem simple. A 'fake' intelligent person makes simple concepts seem complex."</p>

                <p>At SnapEnhance, we believe that true intelligence is demonstrated by making difficult ideas accessible, not by obscuring simple concepts with unnecessary jargon. Our AI models are designed with this principle at their core:</p>

                <ul class="philosophy-list">
                    <li><strong>Clear delivery</strong> with carefully chosen words and examples</li>
                    <li><strong>Accessible explanations</strong> that illuminate rather than confuse</li>
                    <li><strong>Thoughtful simplification</strong> of complex topics without losing nuance</li>
                    <li><strong>Avoidance of posturing</strong> that obscures the underlying message</li>
                </ul>

                <p>We've implemented this philosophy throughout our system, from the model prompts to the user interface, ensuring that every interaction prioritizes understanding over intellectual showmanship.</p>
            </div>

            <div class="philosophy-divider"></div>

            <div class="philosophy-section">
                <h2>Voice Search Implementation</h2>
                <p>Our sophisticated voice search interface exemplifies our commitment to making advanced technology accessible and intuitive:</p>

                <ul class="philosophy-list">
                    <li><strong>Immersive experience</strong> that transforms the entire interface when activated</li>
                    <li><strong>Visual feedback</strong> with animated waves and dynamic visualizations</li>
                    <li><strong>Real-time transcription</strong> showing exactly what the system hears</li>
                    <li><strong>Suggested commands</strong> to help users discover voice capabilities</li>
                </ul>

                <p>The voice search feature was designed to be both powerful and approachable, allowing users to interact with our AI in the most natural way possible—through conversation.</p>
            </div>

            <div class="philosophy-divider"></div>

            <div class="philosophy-section">
                <h2>Our Commitment</h2>
                <p>We're committed to continuous improvement in making AI more accessible, understandable, and useful. We believe that:</p>

                <ul class="philosophy-list">
                    <li>Technology should adapt to humans, not the other way around</li>
                    <li>Powerful tools can be simple to use without sacrificing capabilities</li>
                    <li>Clear communication is the foundation of effective AI assistance</li>
                    <li>Delightful interactions make technology more engaging and useful</li>
                </ul>

                <p>This philosophy guides everything we do at SnapEnhance, from feature development to interface design to the way our AI models communicate.</p>
            </div>
        </div>
    </div>

    <!-- Documentation Backdrop and Popup -->
    <div class="popup-backdrop" id="documentation-backdrop"></div>
    <div class="popup-container" id="documentation-popup">
        <div class="popup-header">
            <span>Documentation</span>
            <button class="close-btn" id="documentation-popup-close">×</button>
        </div>
        <div class="popup-content">
            <div class="documentation-section">
                <h2>Getting Started</h2>
                <p>SnapEnhance AI is a powerful assistant that leverages state-of-the-art language models to provide helpful, accurate responses to your questions.</p>

                <h3>Basic Usage</h3>
                <ul class="documentation-list">
                    <li><strong>Ask a question:</strong> Type your question in the input field and press Enter or click Send</li>
                    <li><strong>Switch models:</strong> Use the model tabs at the top to switch between Llama 3.3 70B and DeepSeek R1</li>
                    <li><strong>Adjust temperature:</strong> Click the temperature icon in the footer to control response creativity</li>
                    <li><strong>Use Quick Mode:</strong> Toggle Quick Mode for faster, more concise responses</li>
                </ul>
            </div>

            <div class="documentation-divider"></div>

            <div class="documentation-section">
                <h2>Special Features</h2>

                <h3>Function Calling</h3>
                <p>SnapEnhance can perform special functions to provide real-time information:</p>
                <ul class="documentation-list">
                    <li><strong>Weather:</strong> Ask "What's the weather in [location]?"</li>
                    <li><strong>Time:</strong> Ask "What time is it in [location]?"</li>
                    <li><strong>Wikipedia:</strong> Ask "Search Wikipedia for [topic]"</li>
                    <li><strong>Product Search:</strong> Ask "Find products like [item]"</li>
                </ul>

                <h3>Voice Interface</h3>
                <p>Use the microphone button to activate voice input:</p>
                <ul class="documentation-list">
                    <li>Click the microphone icon to start voice recognition</li>
                    <li>Speak clearly into your microphone</li>
                    <li>Review the transcription and click Submit</li>
                </ul>
            </div>

            <div class="documentation-divider"></div>

            <div class="documentation-section">
                <h2>Tips & Tricks</h2>
                <ul class="documentation-list">
                    <li><strong>Be specific:</strong> The more specific your question, the better the response</li>
                    <li><strong>Use DeepSeek R1:</strong> For mathematical or technical questions</li>
                    <li><strong>Use Llama 3.3:</strong> For creative writing, explanations, or function calling</li>
                    <li><strong>Adjust temperature:</strong> Lower for factual responses, higher for creative ones</li>
                    <li><strong>Multi-turn conversations:</strong> Reference previous messages for context</li>
                </ul>
            </div>

            <div class="documentation-divider"></div>

            <div class="documentation-section">
                <h2>Technical Details</h2>
                <p>SnapEnhance AI is built with:</p>
                <ul class="documentation-list">
                    <li><strong>Backend:</strong> Flask server with Together AI API integration</li>
                    <li><strong>Frontend:</strong> Vanilla HTML, CSS, and JavaScript (no frameworks)</li>
                    <li><strong>Models:</strong> Llama 3.3 70B Instruct and DeepSeek R1 Distill Llama 70B</li>
                    <li><strong>APIs:</strong> OpenWeatherMap, TimeZoneDB, OpenCage Geocoding, and Wikipedia</li>
                </ul>
                <p>For more technical details, click the "View Implementation Details" button at the bottom of the page.</p>
            </div>
        </div>
    </div>

    <!-- Changelog Backdrop and Popup -->
    <div class="popup-backdrop" id="changelog-backdrop"></div>
    <div class="popup-container" id="changelog-popup">
        <div class="popup-header">
            <span>Changelog</span>
            <button class="close-btn" id="changelog-popup-close">×</button>
        </div>
        <div class="popup-content">
            <div class="changelog-entry">
                <div class="changelog-version">v1.4.0 - May 3, 2025</div>
                <ul class="changelog-list">
                    <li><strong>Added:</strong> New "Quick Mode" toggle for ultra-fast responses</li>
                    <li><strong>Added:</strong> Visual indicator for Quick Mode with subtle animation</li>
                    <li><strong>Enhanced:</strong> System prompts with distinct modes for quick vs. comprehensive responses</li>
                    <li><strong>Improved:</strong> Response times with optimized token limits and API timeouts for Together API compliance</li>
                    <li><strong>Improved:</strong> Error handling and fallback mechanisms in backend and UI</li>
                    <li><strong>Optimized:</strong> Markdown processing for faster rendering</li>
                </ul>
                <div class="changelog-note">
                    <strong>Note:</strong> Client-side response caching is <em>not currently implemented</em> in this version.
                    If added in the future, this changelog will be updated accordingly.
                </div>
            </div>
            <div class="changelog-entry">
                <div class="changelog-version">v1.3.9 - April 30, 2025</div>
                <ul class="changelog-list">
                    <li><strong>Added:</strong> Philosophy section in Resources menu</li>
                    <li><strong>Added:</strong> Detailed explanation of our clarity-over-complexity approach</li>
                    <li><strong>Added:</strong> Information about voice search implementation philosophy</li>
                    <li><strong>Improved:</strong> Popup system with shared functionality between sections</li>
                    <li><strong>Enhanced:</strong> Documentation of our core principles and commitments</li>
                </ul>
            </div>
            <div class="changelog-entry">
                <div class="changelog-version">v1.3.8 - April 30, 2025</div>
                <ul class="changelog-list">
                    <li><strong>Updated:</strong> Model tooltips with clarity-focused philosophy</li>
                    <li><strong>Enhanced:</strong> Response generation to prioritize clarity over complexity</li>
                    <li><strong>Improved:</strong> System prompts to encourage making complex ideas simple</li>
                    <li><strong>Added:</strong> Anti-intellectualization guidance for more accessible responses</li>
                </ul>
            </div>
            <div class="changelog-entry">
                <div class="changelog-version">v1.3.7 - April 30, 2025</div>
                <ul class="changelog-list">
                    <li><strong>Added:</strong> Humorous tooltips for microphone buttons</li>
                    <li><strong>Enhanced:</strong> Voice interface with witty hover messages</li>
                    <li><strong>Improved:</strong> User experience with delightful microinteractions</li>
                </ul>
            </div>
            <div class="changelog-entry">
                <div class="changelog-version">v1.3.6 - April 30, 2025</div>
                <ul class="changelog-list">
                    <li><strong>Added:</strong> Sophisticated full-screen voice search interface</li>
                    <li><strong>Added:</strong> Dynamic voice visualization with animated waves</li>
                    <li><strong>Added:</strong> Real-time voice transcription with visual feedback</li>
                    <li><strong>Added:</strong> Voice command suggestions for quick access</li>
                    <li><strong>Enhanced:</strong> Voice recognition with continuous listening</li>
                    <li><strong>Improved:</strong> Voice UI with dedicated submit and cancel buttons</li>
                </ul>
            </div>
            <div class="changelog-entry">
                <div class="changelog-version">v1.3.5 - April 30, 2025</div>
                <ul class="changelog-list">
                    <li><strong>Added:</strong> Voice input functionality with microphone button</li>
                    <li><strong>Added:</strong> Visual feedback for voice recording state</li>
                    <li><strong>Added:</strong> Toast notifications for voice input status</li>
                    <li><strong>Improved:</strong> Accessibility with speech recognition</li>
                    <li><strong>Enhanced:</strong> Mobile experience with voice commands</li>
                </ul>
            </div>
            <div class="changelog-entry">
                <div class="changelog-version">v1.3.4 - April 30, 2025</div>
                <ul class="changelog-list">
                    <li><strong>Enhanced:</strong> Improved response formatting with better markdown structure</li>
                    <li><strong>Added:</strong> Query-specific formatting for popular search topics</li>
                    <li><strong>Fixed:</strong> Formatting issues in "how to use llama models" responses</li>
                    <li><strong>Improved:</strong> Markdown rendering with proper headings and lists</li>
                    <li><strong>Added:</strong> Special formatting for technical topics and comparisons</li>
                    <li><strong>Enhanced:</strong> Function call responses with better visual presentation</li>
                </ul>
            </div>
            <div class="changelog-entry">
                <div class="changelog-version">v1.3.3 - April 30, 2025</div>
                <ul class="changelog-list">
                    <li><strong>Enhanced:</strong> Real-time data prioritization for all API calls</li>
                    <li><strong>Added:</strong> OpenCage Geocoding API for accurate location lookup</li>
                    <li><strong>Improved:</strong> Wikipedia API with detailed article information</li>
                    <li><strong>Enhanced:</strong> Weather API with wind direction and visibility data</li>
                    <li><strong>Added:</strong> Weather icon support for visual weather conditions</li>
                    <li><strong>Removed:</strong> Simulated data fallbacks for pure real-time responses</li>
                </ul>
            </div>
            <div class="changelog-entry">
                <div class="changelog-version">v1.3.2 - April 30, 2025</div>
                <ul class="changelog-list">
                    <li><strong>Added:</strong> Real-time weather data using OpenWeatherMap API</li>
                    <li><strong>Added:</strong> Accurate timezone information using TimeZoneDB API</li>
                    <li><strong>Added:</strong> Wikipedia search and information retrieval</li>
                    <li><strong>Improved:</strong> Fallback mechanisms for API failures</li>
                    <li><strong>Updated:</strong> Function calling capabilities with new API integrations</li>
                </ul>
            </div>
            <div class="changelog-entry">
                <div class="changelog-version">v1.3.1 - April 30, 2025</div>
                <ul class="changelog-list">
                    <li><strong>Improved:</strong> Optimized DeepSeek R1 model prompting format</li>
                    <li><strong>Added:</strong> Special handling for math problems in DeepSeek R1</li>
                    <li><strong>Updated:</strong> DeepSeek R1 temperature (0.6) and top_p (0.95) parameters</li>
                    <li><strong>Added:</strong> Automatic detection of math problems</li>
                    <li><strong>Improved:</strong> Multi-turn conversation handling for DeepSeek R1</li>
                </ul>
            </div>
            <div class="changelog-entry">
                <div class="changelog-version">v1.3.0 - April 30, 2025</div>
                <ul class="changelog-list">
                    <li><strong>Added:</strong> Zero-shot function calling with Llama 3.3 70B model</li>
                    <li><strong>Added:</strong> Weather information function</li>
                    <li><strong>Added:</strong> Current time lookup function</li>
                    <li><strong>Added:</strong> Product search function</li>
                    <li><strong>Added:</strong> Function call display in chat interface</li>
                    <li><strong>Updated:</strong> Search suggestions to showcase function capabilities</li>
                    <li><strong>Improved:</strong> Model handling to support function calling</li>
                </ul>
            </div>
            <div class="changelog-entry">
                <div class="changelog-version">v1.2.5 - April 30, 2025</div>
                <ul class="changelog-list">
                    <li><strong>Fixed:</strong> Removed problematic changelog implementation</li>
                    <li><strong>Added:</strong> New streamlined changelog with improved styling</li>
                    <li><strong>Updated:</strong> Version number to reflect changes</li>
                    <li><strong>Improved:</strong> Animation and transition effects</li>
                </ul>
            </div>
            <div class="changelog-entry">
                <div class="changelog-version">v1.2.3 - April 30, 2025</div>
                <ul class="changelog-list">
                    <li>Added blog preview section to homepage</li>
                    <li>Improved mobile responsiveness</li>
                    <li>Updated to latest Outfit font</li>
                    <li>Fixed time zone detection issues</li>
                    <li>Enhanced transparency with detailed version info in footer</li>
                    <li>Updated compliance information with AI ethics principles</li>
                    <li>Added links to AI Ethics blog and Product Roadmap</li>
                </ul>
            </div>
            <div class="changelog-entry">
                <div class="changelog-version">v1.1.0 - April 30, 2025</div>
                <ul class="changelog-list">
                    <li>Integrated DeepSeek R1 Distill Llama 70B model</li>
                    <li>Enhanced temperature control interface</li>
                    <li>Added search suggestions</li>
                    <li>Improved markdown rendering</li>
                    <li>Implemented GDPR and CCPA compliance measures</li>
                    <li>Added collaboration with Together AI for model hosting</li>
                </ul>
            </div>
            <div class="changelog-entry">
                <div class="changelog-version">v1.0.0 - April 30, 2025</div>
                <ul class="changelog-list">
                    <li>Initial release with Llama 3.3 70B Instruct model</li>
                    <li>Basic chat interface</li>
                    <li>Implementation details section</li>
                    <li>Temperature adjustment</li>
                    <li>Open-sourced codebase on GitHub</li>
                    <li>Established responsible AI usage guidelines</li>
                </ul>
            </div>
        </div>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', function() {
            const chatArea = document.getElementById('chat-area');
            const blogPreviews = document.getElementById('blog-previews');
            const chatMessages = document.getElementById('chat-messages');
            const userInput = document.getElementById('user-input');
            const sendButton = document.getElementById('send-button');
            const modelSelect = document.getElementById('model-select');
            const modelTabs = document.querySelectorAll('#model-tabs .tab');
            const temperatureSlider = document.getElementById('temperature-slider');
            const temperatureValue = document.getElementById('temperature-value');

            // Show blog previews by default, hide chat area
            blogPreviews.style.display = 'block';
            chatArea.style.display = 'none';

            // Client-side caching will be implemented in a future version
            // See changelog note


            // Set up model tab click handlers
            modelTabs.forEach(tab => {
                tab.addEventListener('click', function() {
                    // Remove active class from all tabs
                    modelTabs.forEach(t => t.classList.remove('active'));

                    // Add active class to clicked tab
                    this.classList.add('active');

                    // Update the hidden model select value
                    const modelId = this.getAttribute('data-model');
                    modelSelect.value = modelId;

                    // Show notification
                    showModelNotification(this.textContent.trim());
                });
            });

            // Set up temperature control elements
            const tempControlToggle = document.getElementById('temp-control-toggle');
            const temperaturePopup = document.getElementById('temperature-popup');
            const tempPopupClose = document.getElementById('temp-popup-close');
            const footerTempValue = document.getElementById('footer-temp-value');

            // Set up temperature slider
            temperatureSlider.addEventListener('input', function() {
                // Update both displayed values
                temperatureValue.textContent = this.value;
                footerTempValue.textContent = this.value;

                // Add visual feedback based on temperature
                const tempColor = getTempColor(this.value);
                temperatureValue.style.color = tempColor;
                footerTempValue.style.color = tempColor;
            });

            // Function to get color based on temperature
            function getTempColor(temp) {
                if (temp < 0.4) {
                    return '#3b82f6'; // Blue for precise
                } else if (temp > 0.7) {
                    return '#ec4899'; // Pink for creative
                } else {
                    return '#8b5cf6'; // Purple for balanced
                }
            }

            // Set initial color
            footerTempValue.style.color = getTempColor(temperatureSlider.value);

            // Function to show temperature popup
            function showTemperaturePopup() {
                temperaturePopup.style.display = 'block';
                // Add a small animation effect
                temperaturePopup.style.opacity = '0';
                temperaturePopup.style.transform = 'translateX(-50%) translateY(10px)';
                setTimeout(() => {
                    temperaturePopup.style.opacity = '1';
                    temperaturePopup.style.transform = 'translateX(-50%) translateY(0)';
                }, 10);
            }

            // Function to hide temperature popup
            function hideTemperaturePopup() {
                temperaturePopup.style.opacity = '0';
                temperaturePopup.style.transform = 'translateX(-50%) translateY(10px)';
                setTimeout(() => {
                    temperaturePopup.style.display = 'none';
                }, 200);
            }

            // Toggle temperature popup
            tempControlToggle.addEventListener('click', function(e) {
                e.preventDefault();
                if (temperaturePopup.style.display === 'none') {
                    showTemperaturePopup();
                } else {
                    hideTemperaturePopup();
                }
            });

            // Close button event
            tempPopupClose.addEventListener('click', function() {
                hideTemperaturePopup();
            });

            // Close popup when clicking elsewhere
            document.addEventListener('click', function(e) {
                // Close temperature popup if clicking outside
                if (temperaturePopup.style.display === 'block' &&
                    !tempControlToggle.contains(e.target) &&
                    !temperaturePopup.contains(e.target)) {
                    hideTemperaturePopup();
                }


            });



            // Function to show a temporary notification when model is changed
            function showModelNotification(modelName) {
                // Create notification element with humor
                const notification = document.createElement('div');
                notification.className = 'model-notification';
                notification.textContent = `Model switched to ${modelName}`;

                // Add random humorous data attribute
                const jokes = [
                    "My other model is a Ferrari",
                    "Now with 20% more sarcasm",
                    "Trained on pure comedy gold",
                    "Powered by unicorn dreams",
                    "60% of the time, it works every time"
                ];
                notification.setAttribute('data-joke', jokes[Math.floor(Math.random() * jokes.length)]);

                // Add to body
                document.body.appendChild(notification);

                // Remove after animation
                setTimeout(() => {
                    notification.classList.add('fade-out');
                    setTimeout(() => {
                        document.body.removeChild(notification);
                    }, 500);
                }, 2000);
            }

            function addMessage(content, isUser = false, isHtml = false) {
                // Make sure chat area is visible and blog previews are hidden
                chatArea.style.display = 'block';
                blogPreviews.style.display = 'none';

                const messageDiv = document.createElement('div');
                messageDiv.className = isUser ? 'message user' : 'message assistant';

                // Create message header with avatar
                const messageHeader = document.createElement('div');
                messageHeader.className = 'message-header';

                const avatar = document.createElement('div');
                avatar.className = `message-avatar ${isUser ? 'user-avatar' : 'assistant-avatar'}`;
                avatar.textContent = isUser ? 'Y' : 'A';

                const sender = document.createElement('div');
                sender.className = 'message-sender';
                sender.textContent = isUser ? 'You' : 'Assistant';

                messageHeader.appendChild(avatar);
                messageHeader.appendChild(sender);

                // Create message content
                const messageContent = document.createElement('div');
                messageContent.className = 'message-content';

                // If content is already HTML (processed by Markdown), use it directly
                // Otherwise, escape it for safety
                if (isHtml) {
                    messageContent.innerHTML = content;
                } else {
                    // For user messages or non-HTML content, escape HTML
                    const p = document.createElement('p');
                    p.textContent = content;
                    messageContent.appendChild(p);
                }

                // Add witty comments to assistant messages
                if (!isUser) {
                    const wittyComments = [
                        "I wrote that with my eyes closed",
                        "That's what I call digital eloquence",
                        "My circuits are tingling with pride",
                        "I'm not saying I'm smart, but...",
                        "That answer deserves a standing ovation",
                        "I surprise myself sometimes",
                        "Not bad for a bunch of math, right?"
                    ];
                    messageContent.setAttribute('data-witty', wittyComments[Math.floor(Math.random() * wittyComments.length)]);
                }

                // Assemble message
                messageDiv.appendChild(messageHeader);
                messageDiv.appendChild(messageContent);

                // Add to chat with special effects for assistant messages
                if (!isUser) {
                    // Add a slight delay for dramatic effect
                    setTimeout(() => {
                        chatMessages.appendChild(messageDiv);

                        // Create and add sparkle elements
                        createSparkles(messageDiv);

                        // Play a subtle magic sound
                        playMagicSound();

                        // Scroll to bottom
                        window.scrollTo(0, document.body.scrollHeight);
                    }, 300);
                } else {
                    chatMessages.appendChild(messageDiv);
                    // Scroll to bottom immediately for user messages
                    window.scrollTo(0, document.body.scrollHeight);
                }
            }

            // Function to create sparkle elements
            function createSparkles(messageElement) {
                // Create 5 sparkles at random positions
                for (let i = 0; i < 5; i++) {
                    const sparkle = document.createElement('div');
                    sparkle.className = 'sparkle';

                    // Random position around the message
                    const top = Math.random() * 100 - 20; // -20 to 80%
                    const left = Math.random() * 100; // 0 to 100%

                    sparkle.style.top = `${top}%`;
                    sparkle.style.left = `${left}%`;
                    sparkle.style.animationDelay = `${Math.random() * 0.5}s`;

                    messageElement.appendChild(sparkle);

                    // Remove sparkle after animation completes
                    setTimeout(() => {
                        if (messageElement.contains(sparkle)) {
                            messageElement.removeChild(sparkle);
                        }
                    }, 1500);
                }
            }

            // Function to play a subtle magic sound
            function playMagicSound() {
                // Create a simple oscillator for a magical sound
                try {
                    const audioCtx = new (window.AudioContext || window.webkitAudioContext)();
                    const oscillator = audioCtx.createOscillator();
                    const gainNode = audioCtx.createGain();

                    oscillator.type = 'sine';
                    oscillator.frequency.setValueAtTime(440, audioCtx.currentTime); // A4
                    oscillator.frequency.exponentialRampToValueAtTime(880, audioCtx.currentTime + 0.2); // A5

                    gainNode.gain.setValueAtTime(0.1, audioCtx.currentTime); // Low volume
                    gainNode.gain.exponentialRampToValueAtTime(0.01, audioCtx.currentTime + 0.3);

                    oscillator.connect(gainNode);
                    gainNode.connect(audioCtx.destination);

                    oscillator.start();
                    oscillator.stop(audioCtx.currentTime + 0.3);
                } catch (e) {
                    // Silently fail if audio context isn't available
                    console.log("Audio not available for magic sound");
                }
            }

            async function sendMessage() {
                const message = userInput.value.trim();
                if (!message) return;

                // Add user message to chat
                addMessage(message, true);

                // Clear input
                userInput.value = '';

                // Add loading indicator
                const loadingDiv = document.createElement('div');
                loadingDiv.className = 'message';

                // Create message header with avatar
                const messageHeader = document.createElement('div');
                messageHeader.className = 'message-header';

                const avatar = document.createElement('div');
                avatar.className = 'message-avatar assistant-avatar';
                avatar.textContent = 'A';

                const sender = document.createElement('div');
                sender.className = 'message-sender';
                sender.textContent = 'Assistant';

                messageHeader.appendChild(avatar);
                messageHeader.appendChild(sender);

                // Create loading dots
                const loadingDots = document.createElement('div');
                loadingDots.className = 'loading-dots';
                loadingDots.innerHTML = '<span></span><span></span><span></span>';

                // Assemble message
                loadingDiv.appendChild(messageHeader);
                loadingDiv.appendChild(loadingDots);

                // Add to chat
                chatMessages.appendChild(loadingDiv);

                // Scroll to bottom
                window.scrollTo(0, document.body.scrollHeight);

                try {
                    // Get quick mode status (with fallback if element doesn't exist)
                    const quickModeCheckbox = document.getElementById('quick-mode');
                    const quickMode = quickModeCheckbox ? quickModeCheckbox.checked : true; // Default to true if element not found

                    // Call our server API endpoint
                    const response = await fetch('/api/chat', {
                        method: 'POST',
                        headers: {
                            'Content-Type': 'application/json'
                        },
                        body: JSON.stringify({
                            prompt: message,
                            model: modelSelect.value,
                            temperature: temperatureSlider.value,
                            quick_mode: quickMode
                        })
                    });

                    const data = await response.json();

                    // Remove loading indicator
                    chatMessages.removeChild(loadingDiv);

                    if (data.error) {
                        addMessage(`Error: ${data.error.message || JSON.stringify(data.error)}`);
                    } else if (data.choices && data.choices.length > 0) {
                        // Check if there was a function call
                        if (data.function_executed) {
                            // Add a special message showing the function call
                            const functionName = data.function_executed.name;
                            const functionResult = data.function_executed.result;

                            // Create a formatted function call message
                            let functionMessage = `<div class="function-call-info">
                                <div class="function-call-header">
                                    <span class="function-icon">⚙️</span>
                                    <span class="function-name">Function Called: ${functionName}</span>
                                </div>
                                <div class="function-result">
                                    <pre>${JSON.stringify(functionResult, null, 2)}</pre>
                                </div>
                            </div>`;

                            // Add the function call info
                            addMessage(functionMessage, false, true);
                        }

                        // Simulate streaming for faster perceived response time
                        const content = data.choices[0].message.content;

                        // Create message container first
                        const messageDiv = document.createElement('div');
                        messageDiv.className = 'message assistant';

                        // Create message header with avatar
                        const messageHeader = document.createElement('div');
                        messageHeader.className = 'message-header';

                        const avatar = document.createElement('div');
                        avatar.className = 'message-avatar assistant-avatar';
                        avatar.textContent = 'A';

                        const sender = document.createElement('div');
                        sender.className = 'message-sender';
                        sender.textContent = 'Assistant';

                        messageHeader.appendChild(avatar);
                        messageHeader.appendChild(sender);

                        // Create message content container
                        const messageContent = document.createElement('div');
                        messageContent.className = 'message-content';

                        // Add witty comments to assistant messages
                        const wittyComments = [
                            "I wrote that with my eyes closed",
                            "That's what I call digital eloquence",
                            "My circuits are tingling with pride",
                            "I'm not saying I'm smart, but...",
                            "That answer deserves a standing ovation",
                            "I surprise myself sometimes",
                            "Not bad for a bunch of math, right?"
                        ];
                        messageContent.setAttribute('data-witty', wittyComments[Math.floor(Math.random() * wittyComments.length)]);

                        // Assemble message
                        messageDiv.appendChild(messageHeader);
                        messageDiv.appendChild(messageContent);

                        // Add to chat
                        chatMessages.appendChild(messageDiv);

                        // Create and add sparkle elements
                        createSparkles(messageDiv);

                        // Play a subtle magic sound
                        playMagicSound();

                        // Set initial content
                        messageContent.innerHTML = content;

                        // Scroll to bottom
                        window.scrollTo(0, document.body.scrollHeight);
                    } else {
                        addMessage('Received an unexpected response from the API.');
                    }
                } catch (error) {
                    // Remove loading indicator
                    chatMessages.removeChild(loadingDiv);
                    addMessage(`Error: ${error.message}`);
                }
            }



            // Search suggestions functionality
            const searchSuggestions = document.getElementById('search-suggestions');
            const suggestionItems = document.querySelectorAll('.suggestion-item');

            // Show suggestions when input is focused
            userInput.addEventListener('focus', function() {
                searchSuggestions.style.display = 'block';
            });

            // Hide suggestions when clicking outside
            document.addEventListener('click', function(e) {
                if (!userInput.contains(e.target) && !searchSuggestions.contains(e.target)) {
                    searchSuggestions.style.display = 'none';
                }
            });

            // Handle suggestion clicks
            suggestionItems.forEach(item => {
                item.addEventListener('click', function() {
                    userInput.value = this.querySelector('span').textContent;
                    searchSuggestions.style.display = 'none';
                    userInput.focus();
                });
            });

            // Sophisticated Voice Search functionality
            const micButton = document.querySelector('.mic-button');
            const voiceOverlay = document.getElementById('voice-search-overlay');
            const voiceTranscript = document.getElementById('voice-transcript');
            const voiceBars = document.getElementById('voice-bars');
            const voiceCancelBtn = document.getElementById('voice-cancel-btn');
            const voiceSubmitBtn = document.getElementById('voice-submit-btn');
            const voiceSuggestions = document.querySelectorAll('.voice-suggestion');

            let recognition;
            let isListening = false;
            let finalTranscript = '';

            // Check if browser supports speech recognition
            if ('webkitSpeechRecognition' in window || 'SpeechRecognition' in window) {
                // Initialize speech recognition
                recognition = new (window.SpeechRecognition || window.webkitSpeechRecognition)();
                recognition.continuous = true;
                recognition.interimResults = true;
                recognition.lang = 'en-US'; // Set language

                // Handle mic button click - show sophisticated voice interface
                micButton.addEventListener('click', function() {
                    showVoiceInterface();
                });

                // Function to show voice interface and start listening
                function showVoiceInterface() {
                    // Reset transcript
                    finalTranscript = '';
                    voiceTranscript.textContent = 'Listening...';

                    // Show voice overlay
                    voiceOverlay.classList.add('active');

                    // Start animation
                    voiceBars.classList.add('recording');

                    // Start listening
                    try {
                        recognition.start();
                        isListening = true;
                    } catch (error) {
                        console.error('Speech recognition error:', error);
                        voiceTranscript.textContent = 'Could not start speech recognition';
                        voiceBars.classList.remove('recording');
                    }
                }

                // Function to hide voice interface and stop listening
                function hideVoiceInterface() {
                    // Hide voice overlay
                    voiceOverlay.classList.remove('active');

                    // Stop animation
                    voiceBars.classList.remove('recording');

                    // Stop listening if active
                    if (isListening) {
                        recognition.stop();
                        isListening = false;
                    }
                }

                // Handle voice cancel button
                voiceCancelBtn.addEventListener('click', function() {
                    hideVoiceInterface();
                    // Clear the input
                    finalTranscript = '';
                });

                // Handle voice submit button
                voiceSubmitBtn.addEventListener('click', function() {
                    if (finalTranscript.trim() !== '') {
                        // Set the input value
                        userInput.value = finalTranscript;

                        // Hide the interface
                        hideVoiceInterface();

                        // Send the message
                        sendMessage();
                    } else {
                        showToast('Please say something first');
                    }
                });

                // Handle voice suggestions
                voiceSuggestions.forEach(suggestion => {
                    suggestion.addEventListener('click', function() {
                        // Set the transcript to the suggestion text
                        finalTranscript = this.textContent;
                        voiceTranscript.textContent = finalTranscript;

                        // Highlight the submit button
                        voiceSubmitBtn.classList.add('highlight');
                        setTimeout(() => {
                            voiceSubmitBtn.classList.remove('highlight');
                        }, 500);
                    });
                });

                // Handle speech recognition results with visual feedback
                recognition.onresult = function(event) {
                    let interimTranscript = '';

                    // Process results
                    for (let i = event.resultIndex; i < event.results.length; i++) {
                        const transcript = event.results[i][0].transcript;

                        if (event.results[i].isFinal) {
                            finalTranscript += transcript + ' ';
                        } else {
                            interimTranscript += transcript;
                        }
                    }

                    // Update the transcript display
                    if (finalTranscript || interimTranscript) {
                        voiceTranscript.textContent = finalTranscript + interimTranscript;
                    } else {
                        voiceTranscript.textContent = 'Listening...';
                    }

                    // Animate voice bars based on speech volume
                    const volume = calculateVolumeFromEvent(event);
                    animateVoiceBars(volume);
                };

                // Calculate approximate volume from speech recognition event
                function calculateVolumeFromEvent(event) {
                    // This is an approximation since the Web Speech API doesn't directly provide volume
                    // We use the confidence of the latest result as a proxy
                    if (event.results.length > 0) {
                        const latestResult = event.results[event.results.length - 1];
                        if (latestResult.length > 0) {
                            // Confidence is between 0 and 1, scale to 0.3-1 for better visuals
                            return 0.3 + (latestResult[0].confidence * 0.7);
                        }
                    }
                    return 0.5; // Default value
                }

                // Animate voice bars based on volume
                function animateVoiceBars(volume) {
                    const bars = voiceBars.querySelectorAll('.voice-bar');
                    const maxHeight = 50; // Maximum height in pixels

                    bars.forEach((bar, index) => {
                        // Create varying heights based on index and volume
                        const heightFactor = Math.sin((index + 1) * 0.3) * 0.5 + 0.5;
                        const height = 10 + (maxHeight * heightFactor * volume);

                        // Apply dynamic height
                        bar.style.height = `${height}px`;
                    });
                }

                // Handle speech recognition end
                recognition.onend = function() {
                    isListening = false;

                    // If the overlay is still active, restart listening
                    if (voiceOverlay.classList.contains('active')) {
                        try {
                            recognition.start();
                            isListening = true;
                        } catch (error) {
                            console.error('Could not restart speech recognition:', error);
                            voiceBars.classList.remove('recording');
                            voiceTranscript.textContent = 'Speech recognition stopped. Click submit to continue.';
                        }
                    }
                };

                // Handle speech recognition errors
                recognition.onerror = function(event) {
                    console.error('Speech recognition error:', event.error);
                    isListening = false;

                    // Stop animation
                    voiceBars.classList.remove('recording');

                    // Show error message
                    if (event.error === 'not-allowed') {
                        voiceTranscript.textContent = 'Microphone access denied';
                        showToast('Microphone access denied. Please allow microphone access in your browser settings.');
                    } else {
                        voiceTranscript.textContent = 'Error: ' + event.error;
                        showToast('Speech recognition error: ' + event.error);
                    }
                };

                // Close voice interface when clicking outside
                voiceOverlay.addEventListener('click', function(e) {
                    if (e.target === voiceOverlay) {
                        hideVoiceInterface();
                    }
                });

                // Close voice interface with Escape key
                document.addEventListener('keydown', function(e) {
                    if (e.key === 'Escape' && voiceOverlay.classList.contains('active')) {
                        hideVoiceInterface();
                    }
                });

            } else {
                // Browser doesn't support speech recognition
                micButton.addEventListener('click', function() {
                    showToast('Speech recognition is not supported in this browser');
                });

                // Optionally disable the button visually
                micButton.classList.add('disabled');
            }

            // Toast notification function
            function showToast(message, duration = 3000) {
                // Create toast element if it doesn't exist
                let toast = document.getElementById('toast-notification');
                if (!toast) {
                    toast = document.createElement('div');
                    toast.id = 'toast-notification';
                    document.body.appendChild(toast);
                }

                // Set message and show toast
                toast.textContent = message;
                toast.classList.add('show');

                // Hide toast after duration
                setTimeout(() => {
                    toast.classList.remove('show');
                }, duration);
            }

            // Event listeners for chat
            sendButton.addEventListener('click', sendMessage);

            userInput.addEventListener('keydown', function(e) {
                if (e.key === 'Enter' && !e.shiftKey) {
                    e.preventDefault();
                    searchSuggestions.style.display = 'none';
                    sendMessage();
                }
            });

            // Popup functionality (shared between Changelog and Philosophy)
            // Changelog elements
            const changelogLink = document.getElementById('changelog-link');
            const changelogPopup = document.getElementById('changelog-popup');
            const changelogBackdrop = document.getElementById('changelog-backdrop');
            const changelogPopupClose = document.getElementById('changelog-popup-close');

            // Philosophy elements
            const philosophyLink = document.getElementById('philosophy-link');
            const philosophyPopup = document.getElementById('philosophy-popup');
            const philosophyBackdrop = document.getElementById('philosophy-backdrop');
            const philosophyPopupClose = document.getElementById('philosophy-popup-close');

            // Initialize popup styles
            [changelogPopup, philosophyPopup].forEach(popup => {
                if (popup) popup.style.display = 'none';
            });

            [changelogBackdrop, philosophyBackdrop].forEach(backdrop => {
                if (backdrop) {
                    backdrop.style.display = 'none';

                    // Add click handler to backdrop
                    backdrop.addEventListener('click', function() {
                        if (backdrop === changelogBackdrop) {
                            hidePopup(changelogPopup, changelogBackdrop);
                        } else if (backdrop === philosophyBackdrop) {
                            hidePopup(philosophyPopup, philosophyBackdrop);
                        }
                    });
                }
            });

            // Set up close buttons
            if (changelogPopupClose) {
                changelogPopupClose.addEventListener('click', function(e) {
                    e.preventDefault();
                    e.stopPropagation();
                    hidePopup(changelogPopup, changelogBackdrop);
                });
            }

            if (philosophyPopupClose) {
                philosophyPopupClose.addEventListener('click', function(e) {
                    e.preventDefault();
                    e.stopPropagation();
                    hidePopup(philosophyPopup, philosophyBackdrop);
                });
            }

            // Generic function to show popup
            function showPopup(popup, backdrop) {
                // Hide any other open popups first
                [
                    { popup: changelogPopup, backdrop: changelogBackdrop },
                    { popup: philosophyPopup, backdrop: philosophyBackdrop }
                ].forEach(item => {
                    if (item.popup !== popup && item.popup.classList.contains('show')) {
                        hidePopup(item.popup, item.backdrop);
                    }
                });

                // Show backdrop and popup immediately
                backdrop.style.display = 'block';
                popup.style.display = 'flex';

                // Force browser reflow
                void popup.offsetWidth;

                // Add show classes
                setTimeout(() => {
                    backdrop.classList.add('show');
                    popup.classList.add('show');
                }, 10);

                // Prevent body scrolling
                document.body.style.overflow = 'hidden';
            }

            // Generic function to hide popup
            function hidePopup(popup, backdrop) {
                // Remove show classes
                popup.classList.remove('show');
                backdrop.classList.remove('show');

                // Re-enable body scrolling
                document.body.style.overflow = '';

                // Hide elements after animation
                setTimeout(() => {
                    popup.style.display = 'none';
                    backdrop.style.display = 'none';
                }, 300);
            }

            // Toggle changelog popup
            changelogLink.addEventListener('click', function(e) {
                e.preventDefault();
                showPopup(changelogPopup, changelogBackdrop);
            });

            // Toggle philosophy popup
            philosophyLink.addEventListener('click', function(e) {
                e.preventDefault();
                showPopup(philosophyPopup, philosophyBackdrop);
            });

            // Toggle documentation popup
            const documentationLink = document.getElementById('documentation-link');
            const documentationPopup = document.getElementById('documentation-popup');
            const documentationBackdrop = document.getElementById('documentation-backdrop');
            const documentationPopupClose = document.getElementById('documentation-popup-close');

            documentationLink.addEventListener('click', function(e) {
                e.preventDefault();
                showPopup(documentationPopup, documentationBackdrop);
            });

            documentationPopupClose.addEventListener('click', function() {
                hidePopup(documentationPopup, documentationBackdrop);
            });

            documentationBackdrop.addEventListener('click', function() {
                hidePopup(documentationPopup, documentationBackdrop);
            });

            // Cookbook toggle functionality
            const toggleCookbookBtn = document.getElementById('toggle-cookbook');
            const cookbookContent = document.getElementById('cookbook-content');
            const toggleIcon = document.querySelector('.toggle-icon');
            const toggleText = document.querySelector('.toggle-text');

            toggleCookbookBtn.addEventListener('click', function() {
                const isVisible = cookbookContent.style.display !== 'none';

                if (isVisible) {
                    cookbookContent.style.display = 'none';
                    toggleText.textContent = 'View Implementation Details';
                    toggleIcon.textContent = '+';
                    toggleIcon.style.transform = 'rotate(0deg)';
                } else {
                    cookbookContent.style.display = 'flex';
                    toggleText.textContent = 'Hide Implementation Details';
                    toggleIcon.textContent = '−';
                    toggleIcon.style.transform = 'rotate(90deg)';

                    // Scroll to cookbook section
                    document.getElementById('cookbook-section').scrollIntoView({ behavior: 'smooth' });
                }
            });

            // Cookbook slide navigation
            const cookbookNavBtns = document.querySelectorAll('.cookbook-nav-btn');
            const cookbookSlides = document.querySelectorAll('.cookbook-slide');

            // Set up slide navigation
            cookbookNavBtns.forEach(btn => {
                btn.addEventListener('click', function() {
                    const slideId = this.getAttribute('data-slide');

                    // Update active button
                    cookbookNavBtns.forEach(b => b.classList.remove('active'));
                    this.classList.add('active');

                    // Show selected slide
                    cookbookSlides.forEach(slide => {
                        slide.classList.remove('active');
                        if (slide.getAttribute('data-slide-id') === slideId) {
                            slide.classList.add('active');
                        }
                    });
                });
            });
        });
    </script>
        <!-- Voice Search Overlay -->
        <div class="voice-search-overlay" id="voice-search-overlay">
            <div class="voice-search-content">
                <h2 class="voice-search-title">Voice Search</h2>
                <p class="voice-search-subtitle">Speak clearly and I'll listen</p>

                <div class="voice-visualization" data-humor="Voice so clear, even Siri would be jealous">
                    <svg class="voice-icon" viewBox="0 0 24 24">
                        <path d="M12 14c1.66 0 3-1.34 3-3V5c0-1.66-1.34-3-3-3S9 3.34 9 5v6c0 1.66 1.34 3 3 3z"/>
                        <path d="M17 11c0 2.76-2.24 5-5 5s-5-2.24-5-5H5c0 3.53 2.61 6.43 6 6.92V21h2v-3.08c3.39-.49 6-3.39 6-6.92h-2z"/>
                    </svg>
                    <div class="voice-waves">
                        <div class="voice-wave"></div>
                        <div class="voice-wave"></div>
                        <div class="voice-wave"></div>
                    </div>
                </div>

                <div class="voice-bars-container" id="voice-bars">
                    <div class="voice-bar"></div>
                    <div class="voice-bar"></div>
                    <div class="voice-bar"></div>
                    <div class="voice-bar"></div>
                    <div class="voice-bar"></div>
                    <div class="voice-bar"></div>
                    <div class="voice-bar"></div>
                </div>

                <div class="voice-transcript" id="voice-transcript">
                    Listening...
                </div>

                <div class="voice-suggestions">
                    <div class="voice-suggestion">How to use Llama models</div>
                    <div class="voice-suggestion">Compare DeepSeek and Llama</div>
                    <div class="voice-suggestion">What's the weather in New York?</div>
                    <div class="voice-suggestion">What time is it in Tokyo?</div>
                </div>

                <div class="voice-actions">
                    <button class="voice-action-btn" id="voice-cancel-btn">
                        <svg width="16" height="16" viewBox="0 0 24 24">
                            <path d="M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41z"/>
                        </svg>
                        Cancel
                    </button>
                    <button class="voice-action-btn primary" id="voice-submit-btn">
                        <svg width="16" height="16" viewBox="0 0 24 24">
                            <path d="M2.01 21L23 12 2.01 3 2 10l15 2-15 2z"/>
                        </svg>
                        Submit
                    </button>
                </div>
            </div>
        </div>
    </div> <!-- Close page-wrapper -->
</body>
</html>
